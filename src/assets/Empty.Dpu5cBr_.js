import{r as z,c as b,b2 as _,M as ue,d as F,P as de,ea as ae,o as ce,c0 as fe,ba as he,R as j,b7 as q,bn as H,g,bA as me,bf as U,F as ve,J as W,H as ge,K as ye,Q as te,ef as xe,b6 as G,T as pe,U as we}from"./entry.B79t8160.js";import{x as Ce,y as D,e as be,u as Re}from"./Button.DLsEGMw6.js";function J(e){return e&-e}class ne{constructor(n,i){this.l=n,this.min=i;const s=new Array(n+1);for(let o=0;o<n+1;++o)s[o]=0;this.ft=s}add(n,i){if(i===0)return;const{l:s,ft:o}=this;for(n+=1;n<=s;)o[n]+=i,n+=J(n)}get(n){return this.sum(n+1)-this.sum(n)}sum(n){if(n===void 0&&(n=this.l),n<=0)return 0;const{ft:i,min:s,l:o}=this;if(n>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let d=n*s;for(;n>0;)d+=i[n],n-=J(n);return d}getBound(n){let i=0,s=this.l;for(;s>i;){const o=Math.floor((i+s)/2),d=this.sum(o);if(d>n){s=o;continue}else if(d<n){if(i===o)return this.sum(i+1)<=n?i+1:o;i=o}else return o}return i}}let V;function Ie(){return typeof document>"u"?!1:(V===void 0&&("matchMedia"in window?V=window.matchMedia("(pointer:coarse)").matches:V=!1),V)}let K;function Q(){return typeof document>"u"?1:(K===void 0&&(K="chrome"in window?window.devicePixelRatio:1),K)}const le="VVirtualListXScroll";function Se({columnsRef:e,renderColRef:n,renderItemWithColsRef:i}){const s=z(0),o=z(0),d=b(()=>{const r=e.value;if(r.length===0)return null;const u=new ne(r.length,0);return r.forEach((f,p)=>{u.add(p,f.width)}),u}),w=_(()=>{const r=d.value;return r!==null?Math.max(r.getBound(o.value)-1,0):0}),C=r=>{const u=d.value;return u!==null?u.sum(r):0},a=_(()=>{const r=d.value;return r!==null?Math.min(r.getBound(o.value+s.value)+1,e.value.length-1):0});return ue(le,{startIndexRef:w,endIndexRef:a,columnsRef:e,renderColRef:n,renderItemWithColsRef:i,getLeft:C}),{listWidthRef:s,scrollLeftRef:o}}const ee=F({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:n,columnsRef:i,getLeft:s,renderColRef:o,renderItemWithColsRef:d}=de(le);return{startIndex:e,endIndex:n,columns:i,renderCol:o,renderItemWithCols:d,getLeft:s}},render(){const{startIndex:e,endIndex:n,columns:i,renderCol:s,renderItemWithCols:o,getLeft:d,item:w}=this;if(o!=null)return o({itemIndex:this.index,startColIndex:e,endColIndex:n,allColumns:i,item:w,getLeft:d});if(s!=null){const C=[];for(let a=e;a<=n;++a){const r=i[a];C.push(s({column:r,left:d(a),item:w}))}return C}return null}}),ze=D(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[D("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[D("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),Me=F({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const n=ae();ze.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Ce,ssr:n}),ce(()=>{const{defaultScrollIndex:t,defaultScrollKey:l}=e;t!=null?L({index:t}):l!=null&&L({key:l})});let i=!1,s=!1;fe(()=>{if(i=!1,!s){s=!0;return}L({top:R.value,left:w.value})}),he(()=>{i=!0,s||(s=!0)});const o=_(()=>{if(e.renderCol==null&&e.renderItemWithCols==null||e.columns.length===0)return;let t=0;return e.columns.forEach(l=>{t+=l.width}),t}),d=b(()=>{const t=new Map,{keyField:l}=e;return e.items.forEach((c,m)=>{t.set(c[l],m)}),t}),{scrollLeftRef:w,listWidthRef:C}=Se({columnsRef:j(e,"columns"),renderColRef:j(e,"renderCol"),renderItemWithColsRef:j(e,"renderItemWithCols")}),a=z(null),r=z(void 0),u=new Map,f=b(()=>{const{items:t,itemSize:l,keyField:c}=e,m=new ne(t.length,l);return t.forEach((v,y)=>{const h=v[c],x=u.get(h);x!==void 0&&m.add(y,x)}),m}),p=z(0),R=z(0),T=_(()=>Math.max(f.value.getBound(R.value-q(e.paddingTop))-1,0)),N=b(()=>{const{value:t}=r;if(t===void 0)return[];const{items:l,itemSize:c}=e,m=T.value,v=Math.min(m+Math.ceil(t/c+1),l.length-1),y=[];for(let h=m;h<=v;++h)y.push(l[h]);return y}),L=(t,l)=>{if(typeof t=="number"){B(t,l,"auto");return}const{left:c,top:m,index:v,key:y,position:h,behavior:x,debounce:I=!0}=t;if(c!==void 0||m!==void 0)B(c,m,x);else if(v!==void 0)X(v,x,I);else if(y!==void 0){const A=d.value.get(y);A!==void 0&&X(A,x,I)}else h==="bottom"?B(0,Number.MAX_SAFE_INTEGER,x):h==="top"&&B(0,0,x)};let E,M=null;function X(t,l,c){const{value:m}=f,v=m.sum(t)+q(e.paddingTop);if(!c)a.value.scrollTo({left:0,top:v,behavior:l});else{E=t,M!==null&&window.clearTimeout(M),M=window.setTimeout(()=>{E=void 0,M=null},16);const{scrollTop:y,offsetHeight:h}=a.value;if(v>y){const x=m.get(t);v+x<=y+h||a.value.scrollTo({left:0,top:v+x-h,behavior:l})}else a.value.scrollTo({left:0,top:v,behavior:l})}}function B(t,l,c){a.value.scrollTo({left:t,top:l,behavior:c})}function ie(t,l){var c,m,v;if(i||e.ignoreItemResize||Z(l.target))return;const{value:y}=f,h=d.value.get(t),x=y.get(h),I=(v=(m=(c=l.borderBoxSize)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.blockSize)!==null&&v!==void 0?v:l.contentRect.height;if(I===x)return;I-e.itemSize===0?u.delete(t):u.set(t,I-e.itemSize);const k=I-x;if(k===0)return;y.add(h,k);const S=a.value;if(S!=null){if(E===void 0){const $=y.sum(h);S.scrollTop>$&&S.scrollBy(0,k)}else if(h<E)S.scrollBy(0,k);else if(h===E){const $=y.sum(h);I+$>S.scrollTop+S.offsetHeight&&S.scrollBy(0,k)}P()}p.value++}const Y=!Ie();let O=!1;function se(t){var l;(l=e.onScroll)===null||l===void 0||l.call(e,t),(!Y||!O)&&P()}function re(t){var l;if((l=e.onWheel)===null||l===void 0||l.call(e,t),Y){const c=a.value;if(c!=null){if(t.deltaX===0&&(c.scrollTop===0&&t.deltaY<=0||c.scrollTop+c.offsetHeight>=c.scrollHeight&&t.deltaY>=0))return;t.preventDefault(),c.scrollTop+=t.deltaY/Q(),c.scrollLeft+=t.deltaX/Q(),P(),O=!0,be(()=>{O=!1})}}}function oe(t){if(i||Z(t.target))return;if(e.renderCol==null&&e.renderItemWithCols==null){if(t.contentRect.height===r.value)return}else if(t.contentRect.height===r.value&&t.contentRect.width===C.value)return;r.value=t.contentRect.height,C.value=t.contentRect.width;const{onResize:l}=e;l!==void 0&&l(t)}function P(){const{value:t}=a;t!=null&&(R.value=t.scrollTop,w.value=t.scrollLeft)}function Z(t){let l=t;for(;l!==null;){if(l.style.display==="none")return!0;l=l.parentElement}return!1}return{listHeight:r,listStyle:{overflow:"auto"},keyToIndex:d,itemsStyle:b(()=>{const{itemResizable:t}=e,l=H(f.value.sum());return p.value,[e.itemsStyle,{boxSizing:"content-box",width:H(o.value),height:t?"":l,minHeight:t?l:"",paddingTop:H(e.paddingTop),paddingBottom:H(e.paddingBottom)}]}),visibleItemsStyle:b(()=>(p.value,{transform:`translateY(${H(f.value.sum(T.value))})`})),viewportItems:N,listElRef:a,itemsElRef:z(null),scrollTo:L,handleListResize:oe,handleListScroll:se,handleListWheel:re,handleItemResize:ie}},render(){const{itemResizable:e,keyField:n,keyToIndex:i,visibleItemsTag:s}=this;return g(U,{onResize:this.handleListResize},{default:()=>{var o,d;return g("div",me(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?g("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[g(s,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:w,renderItemWithCols:C}=this;return this.viewportItems.map(a=>{const r=a[n],u=i.get(r),f=w!=null?g(ee,{index:u,item:a}):void 0,p=C!=null?g(ee,{index:u,item:a}):void 0,R=this.$slots.default({item:a,renderedCols:f,renderedItemWithCols:p,index:u})[0];return e?g(U,{key:r,onResize:T=>this.handleItemResize(r,T)},{default:()=>R}):(R.key=r,R)})}})]):(d=(o=this.$slots).empty)===null||d===void 0?void 0:d.call(o)])}})}}),Te=F({name:"Empty",render(){return g("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),g("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Le=ve("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[W("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[ge("+",[W("description",`
 margin-top: 8px;
 `)])]),W("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),W("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),Ee=Object.assign(Object.assign({},te.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Be=F({name:"Empty",props:Ee,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:i,mergedComponentPropsRef:s}=ye(e),o=te("Empty","-empty",Le,xe,e,n),{localeRef:d}=Re("Empty"),w=b(()=>{var u,f,p;return(u=e.description)!==null&&u!==void 0?u:(p=(f=s==null?void 0:s.value)===null||f===void 0?void 0:f.Empty)===null||p===void 0?void 0:p.description}),C=b(()=>{var u,f;return((f=(u=s==null?void 0:s.value)===null||u===void 0?void 0:u.Empty)===null||f===void 0?void 0:f.renderIcon)||(()=>g(Te,null))}),a=b(()=>{const{size:u}=e,{common:{cubicBezierEaseInOut:f},self:{[G("iconSize",u)]:p,[G("fontSize",u)]:R,textColor:T,iconColor:N,extraTextColor:L}}=o.value;return{"--n-icon-size":p,"--n-font-size":R,"--n-bezier":f,"--n-text-color":T,"--n-icon-color":N,"--n-extra-text-color":L}}),r=i?pe("empty",b(()=>{let u="";const{size:f}=e;return u+=f[0],u}),a,e):void 0;return{mergedClsPrefix:n,mergedRenderIcon:C,localizedDescription:b(()=>w.value||d.value.description),cssVars:i?void 0:a,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){const{$slots:e,mergedClsPrefix:n,onRender:i}=this;return i==null||i(),g("div",{class:[`${n}-empty`,this.themeClass],style:this.cssVars},this.showIcon?g("div",{class:`${n}-empty__icon`},e.icon?e.icon():g(we,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?g("div",{class:`${n}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?g("div",{class:`${n}-empty__extra`},e.extra()):null)}});export{Be as N,Me as V};
