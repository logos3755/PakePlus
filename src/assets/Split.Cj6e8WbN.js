import{F as C,I as T,J as W,H as I,Q as B,d as J,K,bT as X,c as S,r as _,R as Y,be as L,T as Q,g as f,bJ as P,b7 as E,bK as U}from"./entry.B79t8160.js";import{u as q,r as G}from"./use-merged-state.Dyf7G0SV.js";import{c as F}from"./Button.DLsEGMw6.js";const Z=C("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[T("horizontal",`
 flex-direction: row;
 `),T("vertical",`
 flex-direction: column;
 `),C("split-pane-1",`
 overflow: hidden;
 `),C("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),W("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[T("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),I("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ee=Object.assign(Object.assign({},B.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),re=J({name:"Split",props:ee,setup(e){var o;const{mergedClsPrefixRef:l,inlineThemeDisabled:c}=K(e),g=B("Split","-split",Z,X,e,l),$=S(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:t,resizableTriggerColorHover:n}}=g.value;return{"--n-bezier":i,"--n-resize-trigger-color":t,"--n-resize-trigger-color-hover":n}}),v=_(null),b=_(!1),N=Y(e,"size"),y=_(e.defaultSize);!((o=e.watchProps)===null||o===void 0)&&o.includes("defaultSize")&&L(()=>y.value=e.defaultSize);const R=i=>{const t=e["onUpdate:size"];e.onUpdateSize&&F(e.onUpdateSize,i),t&&F(t,i),y.value=i},w=q(N,y),O=S(()=>{const i=w.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const t=i*100;return{flex:`0 0 calc(${t}% - ${e.resizeTriggerSize*t/100}px)`}}}),j=S(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),D=S(()=>{const i=e.direction==="horizontal";return{width:i?`${e.resizeTriggerSize}px`:"",height:i?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let h=0;const k=i=>{i.preventDefault(),b.value=!0,e.onDragStart&&e.onDragStart(i);const t="mousemove",n="mouseup",r=s=>{M(s),e.onDragMove&&e.onDragMove(s)},u=()=>{U(t,document,r),U(n,document,u),b.value=!1,e.onDragEnd&&e.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=D.value.cursor,P(t,document,r),P(n,document,u);const z=v.value;if(z){const s=z.getBoundingClientRect();e.direction==="horizontal"?h=i.clientX-s.left:h=s.top-i.clientY}M(i)};function M(i){var t,n;const r=(n=(t=v.value)===null||t===void 0?void 0:t.parentElement)===null||n===void 0?void 0:n.getBoundingClientRect();if(!r)return;const{direction:u}=e,z=r.width-e.resizeTriggerSize,s=r.height-e.resizeTriggerSize,m=u==="horizontal"?z:s,H=u==="horizontal"?i.clientX-r.left-h:i.clientY-r.top+h,{min:x,max:p}=e,V=typeof x=="string"?E(x):x*m,A=typeof p=="string"?E(p):p*m;let d=H;d=Math.max(d,V),d=Math.min(d,A,m),typeof w.value=="string"?R(`${d}px`):R(d/m)}const a=c?Q("split",void 0,$,e):void 0;return{themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender,cssVars:c?void 0:$,resizeTriggerElRef:v,isDragging:b,mergedClsPrefix:l,resizeTriggerWrapperStyle:D,resizeTriggerStyle:j,handleMouseDown:k,firstPaneStyle:O}},render(){var e,o,l,c,g;return(e=this.onRender)===null||e===void 0||e.call(this),f("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},f("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(l=(o=this.$slots)[1])===null||l===void 0?void 0:l.call(o)),!this.disabled&&f("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},G(this.$slots["resize-trigger"],()=>[f("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),f("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(g=(c=this.$slots)[2])===null||g===void 0?void 0:g.call(c)))}});export{re as _};
