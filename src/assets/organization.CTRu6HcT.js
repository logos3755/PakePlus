import{_ as j}from"./tree.IKo0Z6do.js";import{_ as N,a as K,b as S,c as D}from"./arrow-left-line.Dqc20lYu.js";import{d as L,r as v,g as E,a0 as O,_ as P,v as f,a7 as A,B as o,y,A as e,x as I,a8 as H,a9 as Y,ac as J,C as x,a6 as Q,b1 as W,o as X,E as U}from"./entry.B79t8160.js";import{_ as q}from"./Card.t-T5tsO1.js";import{g as Z,b as ee,_ as te,a as ne}from"./Grid.DwqS4h9-.js";import{f as oe,b as ae,_ as le,a as se}from"./FormItem.C3DR4S6Q.js";import{_ as re}from"./Select.DOm-zoi7.js";import{_ as ue,B as ie}from"./Button.DLsEGMw6.js";import{_ as _e,a as pe}from"./Tabs.CgZEd0ml.js";import{_ as me}from"./Space.CoyloG0X.js";import{_ as de}from"./Scrollbar.DfppsR0A.js";import{_ as ce}from"./loading.DIF8ReVX.js";import{_ as ve}from"./Split.Cj6e8WbN.js";import{_ as ge}from"./Layout.BrvNxXSP.js";import"./Tree.cVHN8enr.js";import"./use-merged-state.Dyf7G0SV.js";import"./Checkbox.BnzM6f0E.js";import"./Empty.Dpu5cBr_.js";import"./Modal.CeSbMG6K.js";import"./iconify.BCVX6Ifv.js";import"./use-message.BH-wgOTP.js";import"./use-compitable.BTv5PzVL.js";import"./Popover.rmCVgHdz.js";import"./Tag.ehYFDh3x.js";import"./index.DxLfcg4e.js";const fe=Object.assign(Object.assign({},Z),oe),be=L({__GRID_ITEM__:!0,name:"FormItemGridItem",alias:["FormItemGi"],props:fe,setup(){const i=v(null);return{formItemInstRef:i,validate:(...l)=>{const{value:p}=i;if(p)return p.validate(...l)},restoreValidation:()=>{const{value:l}=i;l&&l.restoreValidation()}}},render(){return E(te,O(this.$.vnode.props||{},ee),{default:()=>{const i=O(this.$props,ae);return E(le,Object.assign({ref:"formItemInstRef"},i),this.$slots)}})}}),he={},ye={class:"custom-arrow"},Ie=["onClick"],ke=["onClick"],xe={class:"custom-dots"},ze=["onClick"];function Ce(i,m){const s=q,l=N,p=K,g=S,r=D;return f(),A(r,{"show-arrow":"",autoplay:""},{arrow:o(({prev:t,next:d})=>[y("div",ye,[y("button",{type:"button",class:"custom-arrow--left",onClick:t},[e(p)],8,Ie),y("button",{type:"button",class:"custom-arrow--right",onClick:d},[e(g)],8,ke)])]),dots:o(({total:t,currentIndex:d,to:b})=>[y("ul",xe,[(f(!0),I(H,null,Y(t,c=>(f(),I("li",{key:c,class:J({"is-active":d===c-1}),onClick:h=>b(c-1)},null,10,ze))),128))])]),default:o(()=>[e(l,null,{default:o(()=>[e(s,null,{default:o(()=>m[0]||(m[0]=[x("asdasd")])),_:1})]),_:1})]),_:1})}const $e=P(he,[["render",Ce],["__scopeId","data-v-30e132f4"]]),we={key:0,class:"organization-form"},Pe={key:1,class:"fixed left-1/2 top-[256px]"},Ee={__name:"form",props:{show:Boolean,editMode:Boolean,organizationId:String||Number},emits:["update:show","submit","clearnId"],setup(i,{emit:m}){const s=i,l=m,p=v(null),g=v(!0),r=v("orgFrom"),t=v({departmentId:"",name:"",nature:null,type:null,profitCenter:"",manager:"",managerPhone:"",investor:"",investorPhone:"",company:"",status:null,remarks:""}),d=[{label:"独立核算",value:"独立核算"},{label:"非独立核算",value:"非独立核算"}],b=[{label:"普通部门",value:0},{label:"虚拟部门",value:1}],c=[{label:"未启用",value:1},{label:"已启用",value:2},{label:"已停用",value:3}],h={departmentId:{required:!0,message:"请输入部门ID",trigger:"blur"},name:{required:!0,message:"请输入部门名称",trigger:"blur"},nature:{required:!0,message:"请选择部门性质",trigger:"change"},type:{required:!0,message:"请选择部门类型",trigger:"change"},profitCenter:{required:!0,message:"请输入所属利润中心",trigger:"blur"},manager:{required:!0,message:"请输入部门主管姓名",trigger:"blur"},managerPhone:{required:!0,message:"请输入主管联系电话",trigger:"blur"},company:{required:!0,message:"请输入所属公司",trigger:"blur"},status:{required:!0,message:"请选择启用状态",trigger:"change"}},z=k=>{var n;k.preventDefault(),(n=p.value)==null||n.validate(_=>{_||l("submit",t.value)})},C=()=>{l("clearnId",null),l("update:show",!1)};return Q(()=>s.organizationId,k=>{g.value=!0,k&&(s.editMode&&s.organization?t.value={...s.organization}:(Object.keys(t.value).forEach(n=>{t.value[n]=""}),t.value.nature=null,t.value.type=null,t.value.status=null),setTimeout(()=>{g.value=!1},1e3))},{immediate:!0}),(k,n)=>{const _=ue,u=be,$=re,B=ne,R=se,V=_e,F=pe,w=ie,G=me,M=q,T=de;return i.organizationId?(f(),I("div",we,[e(W,{name:"fade"},{default:o(()=>[e(M,null,{footer:o(()=>[e(G,{justify:"end"},{default:o(()=>[e(w,{onClick:C},{default:o(()=>n[12]||(n[12]=[x("取消")])),_:1}),e(w,{type:"primary",onClick:z},{default:o(()=>n[13]||(n[13]=[x("更新")])),_:1})]),_:1})]),default:o(()=>[e(F,{value:r.value,"onUpdate:value":n[11]||(n[11]=a=>r.value=a),type:"card","tab-style":"min-width: 80px;color: var(--n-text-color);font-size: 17px;font-weight: 700;"},{default:o(()=>[e(V,{tab:"编辑组织",name:"orgFrom"},{default:o(()=>[e(R,{ref_key:"formRef",ref:p,model:t.value,rules:h,"label-placement":"left","label-width":"140px","require-mark-placement":"right-hanging",style:{maxHeight:"90vh",overflowY:"auto"}},{default:o(()=>[e(B,{cols:24,"x-gap":24,"y-gap":24},{default:o(()=>[e(u,{span:12,label:"部门名称",path:"label"},{default:o(()=>[e(_,{value:t.value.label,"onUpdate:value":n[0]||(n[0]=a=>t.value.label=a),placeholder:"请输入部门名称"},null,8,["value"])]),_:1}),e(u,{span:12,label:"部门性质",path:"nature"},{default:o(()=>[e($,{value:t.value.nature,"onUpdate:value":n[1]||(n[1]=a=>t.value.nature=a),options:d,placeholder:"请选择部门性质"},null,8,["value"])]),_:1}),e(u,{span:12,label:"部门类型",path:"type"},{default:o(()=>[e($,{value:t.value.type,"onUpdate:value":n[2]||(n[2]=a=>t.value.type=a),options:b,placeholder:"请选择部门类型"},null,8,["value"])]),_:1}),e(u,{span:12,label:"所属利润中心",path:"profitCenter"},{default:o(()=>[e(_,{value:t.value.profitCenter,"onUpdate:value":n[3]||(n[3]=a=>t.value.profitCenter=a),placeholder:"请输入所属利润中心"},null,8,["value"])]),_:1}),e(u,{span:12,label:"部门主管",path:"manager"},{default:o(()=>[e(_,{value:t.value.manager,"onUpdate:value":n[4]||(n[4]=a=>t.value.manager=a),placeholder:"请输入部门主管姓名"},null,8,["value"])]),_:1}),e(u,{span:12,label:"主管联系电话",path:"managerPhone"},{default:o(()=>[e(_,{value:t.value.managerPhone,"onUpdate:value":n[5]||(n[5]=a=>t.value.managerPhone=a),placeholder:"请输入主管联系电话"},null,8,["value"])]),_:1}),e(u,{span:12,label:"投资人",path:"investor"},{default:o(()=>[e(_,{value:t.value.investor,"onUpdate:value":n[6]||(n[6]=a=>t.value.investor=a),placeholder:"请输入投资人姓名"},null,8,["value"])]),_:1}),e(u,{span:12,label:"投资人联系电话",path:"investorPhone"},{default:o(()=>[e(_,{value:t.value.investorPhone,"onUpdate:value":n[7]||(n[7]=a=>t.value.investorPhone=a),placeholder:"请输入投资人联系电话"},null,8,["value"])]),_:1}),e(u,{span:12,label:"部门所属（公司）",path:"company"},{default:o(()=>[e(_,{value:t.value.company,"onUpdate:value":n[8]||(n[8]=a=>t.value.company=a),placeholder:"请输入所属公司"},null,8,["value"])]),_:1}),e(u,{span:12,label:"启用状态",path:"status"},{default:o(()=>[e($,{value:t.value.status,"onUpdate:value":n[9]||(n[9]=a=>t.value.status=a),options:c,placeholder:"请选择启用状态"},null,8,["value"])]),_:1}),e(u,{span:24,label:"备注",path:"remarks"},{default:o(()=>[e(_,{value:t.value.remarks,"onUpdate:value":n[10]||(n[10]=a=>t.value.remarks=a),type:"textarea",placeholder:"请输入备注"},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})])):(f(),I("div",Pe,[e(T,{status:"403",title:"ERROR 暂时无数据",description:"没有选择任何组织，请先选择组织"},{footer:o(()=>[e(w,null,{default:o(()=>n[14]||(n[14]=[x("Take Easy")])),_:1})]),_:1})]))}}},Oe=P(Ee,[["__scopeId","data-v-d5357f28"]]),Ue={class:"component-context"},qe={class:"container p-10"},Be={__name:"organization",setup(i){const m=v(.2),s=v(null),l=r=>{},p=r=>{s.value=r},g=r=>{s.value=r};return X(()=>{}),(r,t)=>{const d=j,b=$e,c=Oe,h=ge,z=ve,C=ce;return f(),I("div",Ue,[e(h,{position:"absolute","has-sider":""},{default:o(()=>[e(z,{direction:"horizontal","default-size":U(m),style:{height:"100%"},max:.3,min:.2},{1:o(()=>[e(d,{onIsEditMode:l,onGetOrgKey:p})]),2:o(()=>[e(h,{"content-style":"height:100%","native-scrollbar":!1,class:"flow-content"},{default:o(()=>[y("div",qe,[e(b),e(c,{organizationId:U(s),onClearnId:g},null,8,["organizationId"])])]),_:1})]),_:1},8,["default-size"])]),_:1}),e(C,{loading:"加载中..."})])}}},lt=P(Be,[["__scopeId","data-v-7471d18a"]]);export{lt as default};
