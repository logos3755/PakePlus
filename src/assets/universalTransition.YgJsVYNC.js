import{ae as V,cn as wa,aw as At,co as Be,aW as Pa,az as ne,cp as Ea,cq as Ur,cr as Rt,aN as G,cs as Ot,ct as _e,cu as mt,cv as ze,av as ct,cw as Hr,cx as Ze,cy as Fe,cz as $r,ag as H,aF as We,aB as Mt,cA as Ue,cB as He,ay as Xt,aD as $e,aT as ut,cC as wt,cD as Ra,cE as Oa,cF as La,cG as ka,cH as Na,aJ as M,bY as Ga,cI as qe,cJ as Va,cK as Ba,cL as za,cM as Za,cN as Fa,cO as Wa,af as be,cP as Q,ah as at,cQ as Lt,ak as Ua,cR as Ha,cS as qr,aK as q,cT as kt,cU as $a,cV as Xr,cW as qa,an as Jr,cX as X,cY as St,cZ as Xa,c_ as Nt,c$ as Wt,d0 as Ut,d1 as xt,d2 as Ja,d3 as Ka,d4 as Qa,d5 as Ya,aU as ja,d6 as tn,d7 as Xe,d8 as Je,al as Pt,d9 as en,da as rn,db as an,dc as nn,dd as on,de as Se,df as sn,dg as Ke,aM as ie,dh as oe,aP as nt,aI as Kr,di as Qr,dj as un,dk as ln,aY as vn,dl as fn,dm as Qe,dn as Ye,au as cn,dp as B,aO as dn,dq as Yr,dr as jr,ds as hn,dt as gn,du as pn,dv as mn,dw as yn,dx as _n,dy as bt,dz as bn,dA as je,dB as Sn,dC as Gt,ax as ta,dD as Te,dE as tr,dF as st,dG as Tn,am as In,dH as Ie,dI as Jt,dJ as An,dK as xn}from"./entry.B79t8160.js";import{S as Ae,t as Cn,r as Mn,o as Dn,l as wn,m as Pn}from"./index.esm.min.CxlJfyIl.js";var En=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return t.prototype.getInitialData=function(e){return wa(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var a=new At,n=Be("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);a.add(n),n.setStyle(e.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=i==="none"?"circle":i,u=e.itemHeight*.8,l=Be(s,(e.itemWidth-u)/2,(e.itemHeight-u)/2,u,u,e.itemStyle.fill);a.add(l),l.setStyle(e.itemStyle);var f=e.iconRotate==="inherit"?o:e.iconRotate||0;return l.rotation=f*Math.PI/180,l.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),a},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Pa);function Kt(r,t,e,a){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(a.isIgnore&&a.isIgnore(e))&&!(a.clipShape&&!a.clipShape.contain(t[0],t[1]))&&r.getItemVisual(e,"symbol")!=="none"}function er(r){return r!=null&&!Rt(r)&&(r={isIgnore:r}),r||{}}function rr(r){var t=r.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:Ur(t),cursorStyle:t.get("cursor")}}var Rn=function(){function r(t){this.group=new At,this._SymbolCtor=t||Ae}return r.prototype.updateData=function(t,e){this._progressiveEls=null,e=er(e);var a=this.group,n=t.hostModel,i=this._data,o=this._SymbolCtor,s=e.disableAnimation,u=rr(t),l={disableAnimation:s},f=e.getSymbolPoint||function(v){return t.getItemLayout(v)};i||a.removeAll(),t.diff(i).add(function(v){var d=f(v);if(Kt(t,d,v,e)){var c=new o(t,v,u,l);c.setPosition(d),t.setItemGraphicEl(v,c),a.add(c)}}).update(function(v,d){var c=i.getItemGraphicEl(d),h=f(v);if(!Kt(t,h,v,e)){a.remove(c);return}var g=t.getItemVisual(v,"symbol")||"circle",p=c&&c.getSymbolType&&c.getSymbolType();if(!c||p&&p!==g)a.remove(c),c=new o(t,v,u,l),c.setPosition(h);else{c.updateData(t,v,u,l);var y={x:h[0],y:h[1]};s?c.attr(y):ne(c,y,n)}a.add(c),t.setItemGraphicEl(v,c)}).remove(function(v){var d=i.getItemGraphicEl(v);d&&d.fadeOut(function(){a.remove(d)},n)}).execute(),this._getSymbolPoint=f,this._data=t},r.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(a,n){var i=t._getSymbolPoint(n);a.setPosition(i),a.markRedraw()})},r.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=rr(t),this._data=null,this.group.removeAll()},r.prototype.incrementalUpdate=function(t,e,a){this._progressiveEls=[],a=er(a);function n(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(Kt(e,o,i,a)){var s=new this._SymbolCtor(e,i,this._seriesScope);s.traverse(n),s.setPosition(o),this.group.add(s),e.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},r.prototype.eachRendered=function(t){Ea(this._progressiveEls||this.group,t)},r.prototype.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl(function(n){n.fadeOut(function(){e.remove(n)},a.hostModel)}):e.removeAll()},r}();function ea(r,t,e){var a=r.getBaseAxis(),n=r.getOtherAxis(a),i=On(n,e),o=a.dim,s=n.dim,u=t.mapDimension(s),l=t.mapDimension(o),f=s==="x"||s==="radius"?1:0,v=G(r.dimensions,function(h){return t.mapDimension(h)}),d=!1,c=t.getCalculationInfo("stackResultDimension");return Ot(t,v[0])&&(d=!0,v[0]=c),Ot(t,v[1])&&(d=!0,v[1]=c),{dataDimsForPoint:v,valueStart:i,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:u,baseDim:l,baseDataOffset:f,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function On(r,t){var e=0,a=r.scale.getExtent();return t==="start"?e=a[0]:t==="end"?e=a[1]:_e(t)&&!isNaN(t)?e=t:a[0]>0?e=a[0]:a[1]<0&&(e=a[1]),e}function ra(r,t,e,a){var n=NaN;r.stacked&&(n=e.get(e.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=r.valueStart);var i=r.baseDataOffset,o=[];return o[i]=e.get(r.baseDim,a),o[1-i]=n,t.dataToPoint(o)}function Ln(r,t){var e=[];return t.diff(r).add(function(a){e.push({cmd:"+",idx:a})}).update(function(a,n){e.push({cmd:"=",idx:n,idx1:a})}).remove(function(a){e.push({cmd:"-",idx:a})}).execute(),e}function kn(r,t,e,a,n,i,o,s){for(var u=Ln(r,t),l=[],f=[],v=[],d=[],c=[],h=[],g=[],p=ea(n,t,o),y=r.getLayout("points")||[],_=t.getLayout("points")||[],m=0;m<u.length;m++){var T=u[m],S=!0,b=void 0,I=void 0;switch(T.cmd){case"=":b=T.idx*2,I=T.idx1*2;var x=y[b],A=y[b+1],C=_[I],P=_[I+1];(isNaN(x)||isNaN(A))&&(x=C,A=P),l.push(x,A),f.push(C,P),v.push(e[b],e[b+1]),d.push(a[I],a[I+1]),g.push(t.getRawIndex(T.idx1));break;case"+":var D=T.idx,w=p.dataDimsForPoint,R=n.dataToPoint([t.get(w[0],D),t.get(w[1],D)]);I=D*2,l.push(R[0],R[1]),f.push(_[I],_[I+1]);var L=ra(p,n,t,D);v.push(L[0],L[1]),d.push(a[I],a[I+1]),g.push(t.getRawIndex(D));break;case"-":S=!1}S&&(c.push(T),h.push(h.length))}h.sort(function(it,Z){return g[it]-g[Z]});for(var E=l.length,N=mt(E),O=mt(E),k=mt(E),z=mt(E),F=[],m=0;m<h.length;m++){var Y=h[m],W=m*2,U=Y*2;N[W]=l[U],N[W+1]=l[U+1],O[W]=f[U],O[W+1]=f[U+1],k[W]=v[U],k[W+1]=v[U+1],z[W]=d[U],z[W+1]=d[U+1],F[m]=c[Y]}return{current:N,next:O,stackedOnCurrent:k,stackedOnNext:z,status:F}}var j=Math.min,tt=Math.max;function lt(r,t){return isNaN(r)||isNaN(t)}function se(r,t,e,a,n,i,o,s,u){for(var l,f,v,d,c,h,g=e,p=0;p<a;p++){var y=t[g*2],_=t[g*2+1];if(g>=n||g<0)break;if(lt(y,_)){if(u){g+=i;continue}break}if(g===e)r[i>0?"moveTo":"lineTo"](y,_),v=y,d=_;else{var m=y-l,T=_-f;if(m*m+T*T<.5){g+=i;continue}if(o>0){for(var S=g+i,b=t[S*2],I=t[S*2+1];b===y&&I===_&&p<a;)p++,S+=i,g+=i,b=t[S*2],I=t[S*2+1],y=t[g*2],_=t[g*2+1],m=y-l,T=_-f;var x=p+1;if(u)for(;lt(b,I)&&x<a;)x++,S+=i,b=t[S*2],I=t[S*2+1];var A=.5,C=0,P=0,D=void 0,w=void 0;if(x>=a||lt(b,I))c=y,h=_;else{C=b-l,P=I-f;var R=y-l,L=b-y,E=_-f,N=I-_,O=void 0,k=void 0;if(s==="x"){O=Math.abs(R),k=Math.abs(L);var z=C>0?1:-1;c=y-z*O*o,h=_,D=y+z*k*o,w=_}else if(s==="y"){O=Math.abs(E),k=Math.abs(N);var F=P>0?1:-1;c=y,h=_-F*O*o,D=y,w=_+F*k*o}else O=Math.sqrt(R*R+E*E),k=Math.sqrt(L*L+N*N),A=k/(k+O),c=y-C*o*(1-A),h=_-P*o*(1-A),D=y+C*o*A,w=_+P*o*A,D=j(D,tt(b,y)),w=j(w,tt(I,_)),D=tt(D,j(b,y)),w=tt(w,j(I,_)),C=D-y,P=w-_,c=y-C*O/k,h=_-P*O/k,c=j(c,tt(l,y)),h=j(h,tt(f,_)),c=tt(c,j(l,y)),h=tt(h,j(f,_)),C=y-c,P=_-h,D=y+C*k/O,w=_+P*k/O}r.bezierCurveTo(v,d,c,h,y,_),v=D,d=w}else r.lineTo(y,_)}l=y,f=_,g+=i}return p}var aa=function(){function r(){this.smooth=0,this.smoothConstraint=!0}return r}(),Nn=function(r){V(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polyline",a}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new aa},t.prototype.buildPath=function(e,a){var n=a.points,i=0,o=n.length/2;if(a.connectNulls){for(;o>0&&lt(n[o*2-2],n[o*2-1]);o--);for(;i<o&&lt(n[i*2],n[i*2+1]);i++);}for(;i<o;)i+=se(e,n,i,o,o,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},t.prototype.getPointOn=function(e,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,i=n.data,o=Hr.CMD,s,u,l=a==="x",f=[],v=0;v<i.length;){var d=i[v++],c=void 0,h=void 0,g=void 0,p=void 0,y=void 0,_=void 0,m=void 0;switch(d){case o.M:s=i[v++],u=i[v++];break;case o.L:if(c=i[v++],h=i[v++],m=l?(e-s)/(c-s):(e-u)/(h-u),m<=1&&m>=0){var T=l?(h-u)*m+u:(c-s)*m+s;return l?[e,T]:[T,e]}s=c,u=h;break;case o.C:c=i[v++],h=i[v++],g=i[v++],p=i[v++],y=i[v++],_=i[v++];var S=l?ze(s,c,g,y,e,f):ze(u,h,p,_,e,f);if(S>0)for(var b=0;b<S;b++){var I=f[b];if(I<=1&&I>=0){var T=l?Ze(u,h,p,_,I):Ze(s,c,g,y,I);return l?[e,T]:[T,e]}}s=y,u=_;break}}},t}(ct),Gn=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(aa),Vn=function(r){V(t,r);function t(e){var a=r.call(this,e)||this;return a.type="ec-polygon",a}return t.prototype.getDefaultShape=function(){return new Gn},t.prototype.buildPath=function(e,a){var n=a.points,i=a.stackedOnPoints,o=0,s=n.length/2,u=a.smoothMonotone;if(a.connectNulls){for(;s>0&&lt(n[s*2-2],n[s*2-1]);s--);for(;o<s&&lt(n[o*2],n[o*2+1]);o++);}for(;o<s;){var l=se(e,n,o,s,s,1,a.smooth,u,a.connectNulls);se(e,i,o+l-1,l,s,-1,a.stackedOnSmooth,u,a.connectNulls),o+=l+1,e.closePath()}},t}(ct);function ar(r,t){if(r.length===t.length){for(var e=0;e<r.length;e++)if(r[e]!==t[e])return;return!0}}function nr(r){for(var t=1/0,e=1/0,a=-1/0,n=-1/0,i=0;i<r.length;){var o=r[i++],s=r[i++];isNaN(o)||(t=Math.min(o,t),a=Math.max(o,a)),isNaN(s)||(e=Math.min(s,e),n=Math.max(s,n))}return[[t,e],[a,n]]}function ir(r,t){var e=nr(r),a=e[0],n=e[1],i=nr(t),o=i[0],s=i[1];return Math.max(Math.abs(a[0]-o[0]),Math.abs(a[1]-o[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function or(r){return _e(r)?r:r?.5:0}function Bn(r,t,e){if(!e.valueDim)return[];for(var a=t.count(),n=mt(a*2),i=0;i<a;i++){var o=ra(e,r,t,i);n[i*2]=o[0],n[i*2+1]=o[1]}return n}function et(r,t,e,a){var n=t.getBaseAxis(),i=n.dim==="x"||n.dim==="radius"?0:1,o=[],s=0,u=[],l=[],f=[],v=[];if(a){for(s=0;s<r.length;s+=2)!isNaN(r[s])&&!isNaN(r[s+1])&&v.push(r[s],r[s+1]);r=v}for(s=0;s<r.length-2;s+=2)switch(f[0]=r[s+2],f[1]=r[s+3],l[0]=r[s],l[1]=r[s+1],o.push(l[0],l[1]),e){case"end":u[i]=f[i],u[1-i]=l[1-i],o.push(u[0],u[1]);break;case"middle":var d=(l[i]+f[i])/2,c=[];u[i]=c[i]=d,u[1-i]=l[1-i],c[1-i]=f[1-i],o.push(u[0],u[1]),o.push(c[0],c[1]);break;default:u[i]=l[i],u[1-i]=f[1-i],o.push(u[0],u[1])}return o.push(r[s++],r[s++]),o}function zn(r,t){var e=[],a=r.length,n,i;function o(f,v,d){var c=f.coord,h=(d-c)/(v.coord-c),g=Za(h,[f.color,v.color]);return{coord:d,color:g}}for(var s=0;s<a;s++){var u=r[s],l=u.coord;if(l<0)n=u;else if(l>t){i?e.push(o(i,u,t)):n&&e.push(o(n,u,0),o(n,u,t));break}else n&&(e.push(o(n,u,0)),n=null),e.push(u),i=u}return e}function Zn(r,t,e){var a=r.getVisual("visualMeta");if(!(!a||!a.length||!r.count())&&t.type==="cartesian2d"){for(var n,i,o=a.length-1;o>=0;o--){var s=r.getDimensionInfo(a[o].dimension);if(n=s&&s.coordDim,n==="x"||n==="y"){i=a[o];break}}if(i){var u=t.getAxis(n),l=G(i.stops,function(m){return{coord:u.toGlobalCoord(u.dataToCoord(m.value)),color:m.color}}),f=l.length,v=i.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),v.reverse());var d=zn(l,n==="x"?e.getWidth():e.getHeight()),c=d.length;if(!c&&f)return l[0].coord<0?v[1]?v[1]:l[f-1].color:v[0]?v[0]:l[0].color;var h=10,g=d[0].coord-h,p=d[c-1].coord+h,y=p-g;if(y<.001)return"transparent";M(d,function(m){m.offset=(m.coord-g)/y}),d.push({offset:c?d[c-1].offset:.5,color:v[1]||"transparent"}),d.unshift({offset:c?d[0].offset:.5,color:v[0]||"transparent"});var _=new Ga(0,0,0,0,d,!0);return _[n]=g,_[n+"2"]=p,_}}}function Fn(r,t,e){var a=r.get("showAllSymbol"),n=a==="auto";if(!(a&&!n)){var i=e.getAxesByScale("ordinal")[0];if(i&&!(n&&Wn(i,t))){var o=t.mapDimension(i.dim),s={};return M(i.getViewLabels(),function(u){var l=i.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(t.get(o,u))}}}}function Wn(r,t){var e=r.getExtent(),a=Math.abs(e[1]-e[0])/r.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),i=Math.max(1,Math.round(n/5)),o=0;o<n;o+=i)if(Ae.getSymbolSize(t,o)[r.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Un(r,t){return isNaN(r)||isNaN(t)}function Hn(r){for(var t=r.length/2;t>0&&Un(r[t*2-2],r[t*2-1]);t--);return t-1}function sr(r,t){return[r[t*2],r[t*2+1]]}function $n(r,t,e){for(var a=r.length/2,n=e==="x"?0:1,i,o,s=0,u=-1,l=0;l<a;l++)if(o=r[l*2+n],!(isNaN(o)||isNaN(r[l*2+1-n]))){if(l===0){i=o;continue}if(i<=t&&o>=t||i>=t&&o<=t){u=l;break}s=l,i=o}return{range:[s,u],t:(t-i)/(o-i)}}function na(r){if(r.get(["endLabel","show"]))return!0;for(var t=0;t<qe.length;t++)if(r.get([qe[t],"endLabel","show"]))return!0;return!1}function Qt(r,t,e,a){if(Va(t,"cartesian2d")){var n=a.getModel("endLabel"),i=n.get("valueAnimation"),o=a.getData(),s={lastFrameIndex:0},u=na(a)?function(c,h){r._endLabelOnDuring(c,h,o,s,i,n,t)}:null,l=t.getBaseAxis().isHorizontal(),f=Ba(t,e,a,function(){var c=r._endLabel;c&&e&&s.originalX!=null&&c.attr({x:s.originalX,y:s.originalY})},u);if(!a.get("clip",!0)){var v=f.shape,d=Math.max(v.width,v.height);l?(v.y-=d,v.height+=d*2):(v.x-=d,v.width+=d*2)}return u&&u(1,f),f}else return za(t,e,a)}function qn(r,t){var e=t.getBaseAxis(),a=e.isHorizontal(),n=e.inverse,i=a?n?"right":"left":"center",o=a?"middle":n?"top":"bottom";return{normal:{align:r.get("align")||i,verticalAlign:r.get("verticalAlign")||o}}}var Xn=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.init=function(){var e=new At,a=new Rn;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=e},t.prototype.render=function(e,a,n){var i=this,o=e.coordinateSystem,s=this.group,u=e.getData(),l=e.getModel("lineStyle"),f=e.getModel("areaStyle"),v=u.getLayout("points")||[],d=o.type==="polar",c=this._coordSys,h=this._symbolDraw,g=this._polyline,p=this._polygon,y=this._lineGroup,_=!a.ssr&&e.get("animation"),m=!f.isEmpty(),T=f.get("origin"),S=ea(o,u,T),b=m&&Bn(o,u,S),I=e.get("showSymbol"),x=e.get("connectNulls"),A=I&&!d&&Fn(e,u,o),C=this._data;C&&C.eachItemGraphicEl(function(Z,qt){Z.__temp&&(s.remove(Z),C.setItemGraphicEl(qt,null))}),I||h.remove(),s.add(y);var P=d?!1:e.get("step"),D;o&&o.getArea&&e.get("clip",!0)&&(D=o.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var w=Zn(u,o,n)||u.getVisual("style")[u.getVisual("drawType")];if(!(g&&c.type===o.type&&P===this._step))I&&h.updateData(u,{isIgnore:A,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Z){return[v[Z*2],v[Z*2+1]]}}),_&&this._initSymbolLabelAnimation(u,o,D),P&&(v=et(v,o,P,x),b&&(b=et(b,o,P,x))),g=this._newPolyline(v),m?p=this._newPolygon(v,b):p&&(y.remove(p),p=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,Fe(w)),y.setClipPath(Qt(this,o,!0,e));else{m&&!p?p=this._newPolygon(v,b):p&&!m&&(y.remove(p),p=this._polygon=null),d||this._initOrUpdateEndLabel(e,o,Fe(w));var R=y.getClipPath();if(R){var L=Qt(this,o,!1,e);$r(R,{shape:L.shape},e)}else y.setClipPath(Qt(this,o,!0,e));I&&h.updateData(u,{isIgnore:A,clipShape:D,disableAnimation:!0,getSymbolPoint:function(Z){return[v[Z*2],v[Z*2+1]]}}),(!ar(this._stackedOnPoints,b)||!ar(this._points,v))&&(_?this._doUpdateAnimation(u,b,o,n,P,T,x):(P&&(v=et(v,o,P,x),b&&(b=et(b,o,P,x))),g.setShape({points:v}),p&&p.setShape({points:v,stackedOnPoints:b})))}var E=e.getModel("emphasis"),N=E.get("focus"),O=E.get("blurScope"),k=E.get("disabled");if(g.useStyle(H(l.getLineStyle(),{fill:"none",stroke:w,lineJoin:"bevel"})),We(g,e,"lineStyle"),g.style.lineWidth>0&&e.get(["emphasis","lineStyle","width"])==="bolder"){var z=g.getState("emphasis").style;z.lineWidth=+g.style.lineWidth+1}Mt(g).seriesIndex=e.seriesIndex,Ue(g,N,O,k);var F=or(e.get("smooth")),Y=e.get("smoothMonotone");if(g.setShape({smooth:F,smoothMonotone:Y,connectNulls:x}),p){var W=u.getCalculationInfo("stackedOnSeries"),U=0;p.useStyle(H(f.getAreaStyle(),{fill:w,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),W&&(U=or(W.get("smooth"))),p.setShape({smooth:F,stackedOnSmooth:U,smoothMonotone:Y,connectNulls:x}),We(p,e,"areaStyle"),Mt(p).seriesIndex=e.seriesIndex,Ue(p,N,O,k)}var it=function(Z){i._changePolyState(Z)};u.eachItemGraphicEl(function(Z){Z&&(Z.onHoverStateChange=it)}),this._polyline.onHoverStateChange=it,this._data=u,this._coordSys=o,this._stackedOnPoints=b,this._points=v,this._step=P,this._valueOrigin=T,e.get("triggerLineEvent")&&(this.packEventData(e,g),p&&this.packEventData(e,p))},t.prototype.packEventData=function(e,a){Mt(a).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,a,n,i){var o=e.getData(),s=He(o,i);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=o.getLayout("points"),l=o.getItemGraphicEl(s);if(!l){var f=u[s*2],v=u[s*2+1];if(isNaN(f)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(f,v))return;var d=e.get("zlevel")||0,c=e.get("z")||0;l=new Ae(o,s),l.x=f,l.y=v,l.setZ(d,c);var h=l.getSymbolPath().getTextContent();h&&(h.zlevel=d,h.z=c,h.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Xt.prototype.highlight.call(this,e,a,n,i)},t.prototype.downplay=function(e,a,n,i){var o=e.getData(),s=He(o,i);if(this._changePolyState("normal"),s!=null&&s>=0){var u=o.getItemGraphicEl(s);u&&(u.__temp?(o.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else Xt.prototype.downplay.call(this,e,a,n,i)},t.prototype._changePolyState=function(e){var a=this._polygon;$e(this._polyline,e),a&&$e(a,e)},t.prototype._newPolyline=function(e){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new Nn({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},t.prototype._newPolygon=function(e,a){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Vn({shape:{points:e,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,a,n){var i,o,s=a.getBaseAxis(),u=s.inverse;a.type==="cartesian2d"?(i=s.isHorizontal(),o=!1):a.type==="polar"&&(i=s.dim==="angle",o=!0);var l=e.hostModel,f=l.get("animationDuration");ut(f)&&(f=f(null));var v=l.get("animationDelay")||0,d=ut(v)?v(null):v;e.eachItemGraphicEl(function(c,h){var g=c;if(g){var p=[c.x,c.y],y=void 0,_=void 0,m=void 0;if(n)if(o){var T=n,S=a.pointToCoord(p);i?(y=T.startAngle,_=T.endAngle,m=-S[1]/180*Math.PI):(y=T.r0,_=T.r,m=S[0])}else{var b=n;i?(y=b.x,_=b.x+b.width,m=c.x):(y=b.y+b.height,_=b.y,m=c.y)}var I=_===y?0:(m-y)/(_-y);u&&(I=1-I);var x=ut(v)?v(h):f*I+d,A=g.getSymbolPath(),C=A.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),C&&C.animateFrom({style:{opacity:0}},{duration:300,delay:x}),A.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,a,n){var i=e.getModel("endLabel");if(na(e)){var o=e.getData(),s=this._polyline,u=o.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new wt({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var f=Hn(u);f>=0&&(Ra(s,Ur(e,"endLabel"),{inheritColor:n,labelFetcher:e,labelDataIndex:f,defaultText:function(v,d,c){return c!=null?Oa(o,c):La(o,v)},enableTextSetter:!0},qn(i,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,a,n,i,o,s,u){var l=this._endLabel,f=this._polyline;if(l){e<1&&i.originalX==null&&(i.originalX=l.x,i.originalY=l.y);var v=n.getLayout("points"),d=n.hostModel,c=d.get("connectNulls"),h=s.get("precision"),g=s.get("distance")||0,p=u.getBaseAxis(),y=p.isHorizontal(),_=p.inverse,m=a.shape,T=_?y?m.x:m.y+m.height:y?m.x+m.width:m.y,S=(y?g:0)*(_?-1:1),b=(y?0:-g)*(_?-1:1),I=y?"x":"y",x=$n(v,T,I),A=x.range,C=A[1]-A[0],P=void 0;if(C>=1){if(C>1&&!c){var D=sr(v,A[0]);l.attr({x:D[0]+S,y:D[1]+b}),o&&(P=d.getRawValue(A[0]))}else{var D=f.getPointOn(T,I);D&&l.attr({x:D[0]+S,y:D[1]+b});var w=d.getRawValue(A[0]),R=d.getRawValue(A[1]);o&&(P=ka(n,h,w,R,x.t))}i.lastFrameIndex=A[0]}else{var L=e===1||i.lastFrameIndex>0?A[0]:0,D=sr(v,L);o&&(P=d.getRawValue(L)),l.attr({x:D[0]+S,y:D[1]+b})}if(o){var E=Na(l);typeof E.setLabelText=="function"&&E.setLabelText(P)}}},t.prototype._doUpdateAnimation=function(e,a,n,i,o,s,u){var l=this._polyline,f=this._polygon,v=e.hostModel,d=kn(this._data,e,this._stackedOnPoints,a,this._coordSys,n,this._valueOrigin),c=d.current,h=d.stackedOnCurrent,g=d.next,p=d.stackedOnNext;if(o&&(c=et(d.current,n,o,u),h=et(d.stackedOnCurrent,n,o,u),g=et(d.next,n,o,u),p=et(d.stackedOnNext,n,o,u)),ir(c,g)>3e3||f&&ir(h,p)>3e3){l.stopAnimation(),l.setShape({points:g}),f&&(f.stopAnimation(),f.setShape({points:g,stackedOnPoints:p}));return}l.shape.__points=d.current,l.shape.points=c;var y={shape:{points:g}};d.current!==c&&(y.shape.__points=d.next),l.stopAnimation(),ne(l,y,v),f&&(f.setShape({points:c,stackedOnPoints:h}),f.stopAnimation(),ne(f,{shape:{stackedOnPoints:p}},v),l.shape.points!==f.shape.points&&(f.shape.points=l.shape.points));for(var _=[],m=d.status,T=0;T<m.length;T++){var S=m[T].cmd;if(S==="="){var b=e.getItemGraphicEl(m[T].idx1);b&&_.push({el:b,ptIdx:T})}}l.animators&&l.animators.length&&l.animators[0].during(function(){f&&f.dirtyShape();for(var I=l.shape.__points,x=0;x<_.length;x++){var A=_[x].el,C=_[x].ptIdx*2;A.x=I[C],A.y=I[C+1],A.markRedraw()}})},t.prototype.remove=function(e){var a=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(i,o){i.__temp&&(a.remove(i),n.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Xt);function Jn(r,t){return{seriesType:r,plan:Fa(),reset:function(e){var a=e.getData(),n=e.coordinateSystem;if(e.pipelineContext,!!n){var i=G(n.dimensions,function(v){return a.mapDimension(v)}).slice(0,2),o=i.length,s=a.getCalculationInfo("stackResultDimension");Ot(a,i[0])&&(i[0]=s),Ot(a,i[1])&&(i[1]=s);var u=a.getStore(),l=a.getDimensionIndex(i[0]),f=a.getDimensionIndex(i[1]);return o&&{progress:function(v,d){for(var c=v.end-v.start,h=mt(c*o),g=[],p=[],y=v.start,_=0;y<v.end;y++){var m=void 0;if(o===1){var T=u.get(l,y);m=n.dataToPoint(T,null,p)}else g[0]=u.get(l,y),g[1]=u.get(f,y),m=n.dataToPoint(g,null,p);h[_++]=m[0],h[_++]=m[1]}d.setLayout("points",h)}}}}}}function Xo(r){r.registerChartView(Xn),r.registerSeriesModel(En),r.registerLayout(Jn("line")),r.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),a=t.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",a)}}),r.registerProcessor(r.PRIORITY.PROCESSOR.STATISTIC,Wa("line"))}function ia(r,t,e,a,n,i){r=r||0;var o=e[1]-e[0];if(n!=null&&(n=dt(n,[0,o])),i!=null&&(i=Math.max(i,n??0)),a==="all"){var s=Math.abs(t[1]-t[0]);s=dt(s,[0,o]),n=i=dt(s,[n,i]),a=0}t[0]=dt(t[0],e),t[1]=dt(t[1],e);var u=Yt(t,a);t[a]+=r;var l=n||0,f=e.slice();u.sign<0?f[0]+=l:f[1]-=l,t[a]=dt(t[a],f);var v;return v=Yt(t,a),n!=null&&(v.sign!==u.sign||v.span<n)&&(t[1-a]=t[a]+u.sign*n),v=Yt(t,a),i!=null&&v.span>i&&(t[1-a]=t[a]+v.sign*i),t}function Yt(r,t){var e=r[t]-r[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function dt(r,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,r))}var vt=!0,Et=Math.min,Tt=Math.max,Kn=Math.pow,Qn=1e4,Yn=6,jn=6,ur="globalPan",ti={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ei={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},lr={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},ri=0,ai=function(r){V(t,r);function t(e){var a=r.call(this)||this;return a._track=[],a._covers=[],a._handlers={},a._zr=e,a.group=new At,a._uid="brushController_"+ri++,M(vi,function(n,i){this._handlers[i]=be(n,this)},a),a}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var a=this._zr;this._enableGlobalPan||Cn(a,ur,this._uid),M(this._handlers,function(n,i){a.on(i,n)}),this._brushType=e.brushType,this._brushOption=Q(at(lr),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;Mn(e,ur,this._uid),M(this._handlers,function(a,n){e.off(n,a)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var a=this._panels={};M(e,function(n){a[n.panelId]=at(n)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var a=this.group;return this._zr.add(a),a.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=a.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=G(e,function(d){return Q(at(lr),d,!0)});var a="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new Lt(n,e,l,u).add(f).update(f).remove(v).execute(),this;function u(d,c){return(d.id!=null?d.id:a+c)+"-"+d.brushType}function l(d,c){return u(d.__brushOption,c)}function f(d,c){var h=e[d];if(c!=null&&n[c]===s)i[d]=n[c];else{var g=i[d]=c!=null?(n[c].__brushOption=h,n[c]):sa(o,oa(o,h));xe(o,g)}}function v(d){n[d]!==s&&o.group.remove(n[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),ue(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(Ua);function oa(r,t){var e=Ht[t.brushType].createCover(r,t);return e.__brushOption=t,la(e,t),r.group.add(e),e}function sa(r,t){var e=Ce(t);return e.endCreating&&(e.endCreating(r,t),la(t,t.__brushOption)),t}function ua(r,t){var e=t.__brushOption;Ce(t).updateCoverShape(r,t,e.range,e)}function la(r,t){var e=t.z;e==null&&(e=Qn),r.traverse(function(a){a.z=e,a.z2=e})}function xe(r,t){Ce(t).updateCommon(r,t),ua(r,t)}function Ce(r){return Ht[r.__brushOption.brushType]}function Me(r,t,e){var a=r._panels;if(!a)return vt;var n,i=r._transform;return M(a,function(o){o.isTargetByCursor(t,e,i)&&(n=o)}),n}function va(r,t){var e=r._panels;if(!e)return vt;var a=t.__brushOption.panelId;return a!=null?e[a]:vt}function ue(r){var t=r._covers,e=t.length;return M(t,function(a){r.group.remove(a)},r),t.length=0,!!e}function ft(r,t){var e=G(r._covers,function(a){var n=a.__brushOption,i=at(n.range);return{brushType:n.brushType,panelId:n.panelId,range:i}});r.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function ni(r){var t=r._track;if(!t.length)return!1;var e=t[t.length-1],a=t[0],n=e[0]-a[0],i=e[1]-a[1],o=Kn(n*n+i*i,.5);return o>Yn}function fa(r){var t=r.length-1;return t<0&&(t=0),[r[0],r[t]]}function ca(r,t,e,a){var n=new At;return n.add(new kt({name:"main",style:De(e),silent:!0,draggable:!0,cursor:"move",drift:q(vr,r,t,n,["n","s","w","e"]),ondragend:q(ft,t,{isEnd:!0})})),M(a,function(i){n.add(new kt({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:q(vr,r,t,n,i),ondragend:q(ft,t,{isEnd:!0})}))}),n}function da(r,t,e,a){var n=a.brushStyle.lineWidth||0,i=Tt(n,jn),o=e[0][0],s=e[1][0],u=o-n/2,l=s-n/2,f=e[0][1],v=e[1][1],d=f-i+n/2,c=v-i+n/2,h=f-o,g=v-s,p=h+n,y=g+n;K(r,t,"main",o,s,h,g),a.transformable&&(K(r,t,"w",u,l,i,y),K(r,t,"e",d,l,i,y),K(r,t,"n",u,l,p,i),K(r,t,"s",u,c,p,i),K(r,t,"nw",u,l,i,i),K(r,t,"ne",d,l,i,i),K(r,t,"sw",u,c,i,i),K(r,t,"se",d,c,i,i))}function le(r,t){var e=t.__brushOption,a=e.transformable,n=t.childAt(0);n.useStyle(De(e)),n.attr({silent:!a,cursor:a?"move":"default"}),M([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=t.childOfName(i.join("")),s=i.length===1?ve(r,i[0]):oi(r,i);o&&o.attr({silent:!a,invisible:!a,cursor:a?ei[s]+"-resize":null})})}function K(r,t,e,a,n,i,o){var s=t.childOfName(e);s&&s.setShape(ui(we(r,t,[[a,n],[a+i,n+o]])))}function De(r){return H({strokeNoScale:!0},r.brushStyle)}function ha(r,t,e,a){var n=[Et(r,e),Et(t,a)],i=[Tt(r,e),Tt(t,a)];return[[n[0],i[0]],[n[1],i[1]]]}function ii(r){return Xr(r.group)}function ve(r,t){var e={w:"left",e:"right",n:"top",s:"bottom"},a={left:"w",right:"e",top:"n",bottom:"s"},n=$a(e[t],ii(r));return a[n]}function oi(r,t){var e=[ve(r,t[0]),ve(r,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function vr(r,t,e,a,n,i){var o=e.__brushOption,s=r.toRectRange(o.range),u=ga(t,n,i);M(a,function(l){var f=ti[l];s[f[0]][f[1]]+=u[f[0]]}),o.range=r.fromRectRange(ha(s[0][0],s[1][0],s[0][1],s[1][1])),xe(t,e),ft(t,{isEnd:!1})}function si(r,t,e,a){var n=t.__brushOption.range,i=ga(r,e,a);M(n,function(o){o[0]+=i[0],o[1]+=i[1]}),xe(r,t),ft(r,{isEnd:!1})}function ga(r,t,e){var a=r.group,n=a.transformCoordToLocal(t,e),i=a.transformCoordToLocal(0,0);return[n[0]-i[0],n[1]-i[1]]}function we(r,t,e){var a=va(r,t);return a&&a!==vt?a.clipPath(e,r._transform):at(e)}function ui(r){var t=Et(r[0][0],r[1][0]),e=Et(r[0][1],r[1][1]),a=Tt(r[0][0],r[1][0]),n=Tt(r[0][1],r[1][1]);return{x:t,y:e,width:a-t,height:n-e}}function li(r,t,e){if(!(!r._brushType||fi(r,t.offsetX,t.offsetY))){var a=r._zr,n=r._covers,i=Me(r,t,e);if(!r._dragging)for(var o=0;o<n.length;o++){var s=n[o].__brushOption;if(i&&(i===vt||s.panelId===i.panelId)&&Ht[s.brushType].contain(n[o],e[0],e[1]))return}i&&a.setCursorStyle("crosshair")}}function fe(r){var t=r.event;t.preventDefault&&t.preventDefault()}function ce(r,t,e){return r.childOfName("main").contain(t,e)}function pa(r,t,e,a){var n=r._creatingCover,i=r._creatingPanel,o=r._brushOption,s;if(r._track.push(e.slice()),ni(r)||n){if(i&&!n){o.brushMode==="single"&&ue(r);var u=at(o);u.brushType=fr(u.brushType,i),u.panelId=i===vt?null:i.panelId,n=r._creatingCover=oa(r,u),r._covers.push(n)}if(n){var l=Ht[fr(r._brushType,i)],f=n.__brushOption;f.range=l.getCreatingRange(we(r,n,r._track)),a&&(sa(r,n),l.updateCommon(r,n)),ua(r,n),s={isEnd:a}}}else a&&o.brushMode==="single"&&o.removeOnClick&&Me(r,t,e)&&ue(r)&&(s={isEnd:a,removeOnClick:!0});return s}function fr(r,t){return r==="auto"?t.defaultBrushType:r}var vi={mousedown:function(r){if(this._dragging)cr(this,r);else if(!r.target||!r.target.draggable){fe(r);var t=this.group.transformCoordToLocal(r.offsetX,r.offsetY);this._creatingCover=null;var e=this._creatingPanel=Me(this,r,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(r){var t=r.offsetX,e=r.offsetY,a=this.group.transformCoordToLocal(t,e);if(li(this,r,a),this._dragging){fe(r);var n=pa(this,r,a,!1);n&&ft(this,n)}},mouseup:function(r){cr(this,r)}};function cr(r,t){if(r._dragging){fe(t);var e=t.offsetX,a=t.offsetY,n=r.group.transformCoordToLocal(e,a),i=pa(r,t,n,!0);r._dragging=!1,r._track=[],r._creatingCover=null,i&&ft(r,i)}}function fi(r,t,e){var a=r._zr;return t<0||t>a.getWidth()||e<0||e>a.getHeight()}var Ht={lineX:dr(0),lineY:dr(1),rect:{createCover:function(r,t){function e(a){return a}return ca({toRectRange:e,fromRectRange:e},r,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(r){var t=fa(r);return ha(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(r,t,e,a){da(r,t,e,a)},updateCommon:le,contain:ce},polygon:{createCover:function(r,t){var e=new At;return e.add(new Ha({name:"main",style:De(t),silent:!0})),e},getCreatingRange:function(r){return r},endCreating:function(r,t){t.remove(t.childAt(0)),t.add(new qr({name:"main",draggable:!0,drift:q(si,r,t),ondragend:q(ft,r,{isEnd:!0})}))},updateCoverShape:function(r,t,e,a){t.childAt(0).setShape({points:we(r,t,e)})},updateCommon:le,contain:ce}};function dr(r){return{createCover:function(t,e){return ca({toRectRange:function(a){var n=[a,[0,100]];return r&&n.reverse(),n},fromRectRange:function(a){return a[r]}},t,e,[[["w"],["e"]],[["n"],["s"]]][r])},getCreatingRange:function(t){var e=fa(t),a=Et(e[0][r],e[1][r]),n=Tt(e[0][r],e[1][r]);return[a,n]},updateCoverShape:function(t,e,a,n){var i,o=va(t,e);if(o!==vt&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(r);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-r]]}var u=[a,i];r&&u.reverse(),da(t,e,u,n)},updateCommon:le,contain:ce}}function ci(r){return r=Pe(r),function(t){return qa(t,r)}}function di(r,t){return r=Pe(r),function(e){var a=t??e,n=a?r.width:r.height,i=a?r.x:r.y;return[i,i+(n||0)]}}function hi(r,t,e){var a=Pe(r);return function(n,i){return a.contain(i[0],i[1])&&!Dn(n,t,e)}}function Pe(r){return Jr.create(r)}var hr=["x","y","radius","angle","single"],gi=["cartesian2d","polar","singleAxis"];function pi(r){var t=r.get("coordinateSystem");return St(gi,t)>=0}function yt(r){return r+"Axis"}function mi(r,t){var e=X(),a=[],n=X();r.eachComponent({mainType:"dataZoom",query:t},function(f){n.get(f.uid)||s(f)});var i;do i=!1,r.eachComponent("dataZoom",o);while(i);function o(f){!n.get(f.uid)&&u(f)&&(s(f),i=!0)}function s(f){n.set(f.uid,!0),a.push(f),l(f)}function u(f){var v=!1;return f.eachTargetAxis(function(d,c){var h=e.get(d);h&&h[c]&&(v=!0)}),v}function l(f){f.eachTargetAxis(function(v,d){(e.get(v)||e.set(v,[]))[d]=!0})}return a}var jt=function(){function r(){this.indexList=[],this.indexMap=[]}return r.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},r}(),yi=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,a,n){var i=gr(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var a=gr(e);Q(this.option,e,!0),Q(this.settledOption,a,!0),this._doInit(a)},t.prototype._doInit=function(e){var a=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;M([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(a[i[0]]=n[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),a=this._targetAxisInfoMap=X(),n=this._fillSpecifiedTargetAxis(a);n?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(a,this._orient)),this._noTarget=!0,a.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var a=!1;return M(hr,function(n){var i=this.getReferringComponents(yt(n),Xa);if(i.specified){a=!0;var o=new jt;M(i.models,function(s){o.add(s.componentIndex)}),e.set(n,o)}},this),a},t.prototype._fillAutoTargetAxisByOrient=function(e,a){var n=this.ecModel,i=!0;if(i){var o=a==="vertical"?"y":"x",s=n.findComponents({mainType:o+"Axis"});u(s,o)}if(i){var s=n.findComponents({mainType:"singleAxis",filter:function(f){return f.get("orient",!0)===a}});u(s,"single")}function u(l,f){var v=l[0];if(v){var d=new jt;if(d.add(v.componentIndex),e.set(f,d),i=!1,f==="x"||f==="y"){var c=v.getReferringComponents("grid",Nt).models[0];c&&M(l,function(h){v.componentIndex!==h.componentIndex&&c===h.getReferringComponents("grid",Nt).models[0]&&d.add(h.componentIndex)})}}}i&&M(hr,function(l){if(i){var f=n.findComponents({mainType:yt(l),filter:function(d){return d.get("type",!0)==="category"}});if(f[0]){var v=new jt;v.add(f[0].componentIndex),e.set(l,v),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(a){!e&&(e=a)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var a=this.ecModel.option;this.option.throttle=a.animation&&a.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var a=this._rangePropMode,n=this.get("rangeMode");M([["start","startValue"],["end","endValue"]],function(i,o){var s=e[i[0]]!=null,u=e[i[1]]!=null;s&&!u?a[o]="percent":!s&&u?a[o]="value":n?a[o]=n[o]:s&&(a[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(a,n){e==null&&(e=this.ecModel.getComponent(yt(a),n))},this),e},t.prototype.eachTargetAxis=function(e,a){this._targetAxisInfoMap.each(function(n,i){M(n.indexList,function(o){e.call(a,i,o)})})},t.prototype.getAxisProxy=function(e,a){var n=this.getAxisModel(e,a);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,a){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[a])return this.ecModel.getComponent(yt(e),a)},t.prototype.setRawRange=function(e){var a=this.option,n=this.settledOption;M([["start","startValue"],["end","endValue"]],function(i){(e[i[0]]!=null||e[i[1]]!=null)&&(a[i[0]]=n[i[0]]=e[i[0]],a[i[1]]=n[i[1]]=e[i[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var a=this.option;M(["start","startValue","end","endValue"],function(n){a[n]=e[n]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,a){if(e==null&&a==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(e,a).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var a,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],s=this._targetAxisInfoMap.get(o),u=0;u<s.indexList.length;u++){var l=this.getAxisProxy(o,s.indexList[u]);if(l.hostedBy(this))return l;a||(a=l)}return a},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Wt);function gr(r){var t={};return M(["start","end","startValue","endValue","throttle"],function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}),t}var _i=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(yi),bi=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n,i){this.dataZoomModel=e,this.ecModel=a,this.api=n},t.type="dataZoom",t}(Ut),Si=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(bi),pt=M,pr=Ya,Ti=function(){function r(t,e,a,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=a}return r.prototype.hostedBy=function(t){return this._dataZoomModel===t},r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},r.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(pi(e)){var a=yt(this._dimName),n=e.getReferringComponents(a,Nt).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}},this),t},r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},r.prototype.getMinMaxSpan=function(){return at(this._minMaxSpan)},r.prototype.calculateDataWindow=function(t){var e=this._dataExtent,a=this.getAxisModel(),n=a.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],u=[],l;pt(["start","end"],function(d,c){var h=t[d],g=t[d+"Value"];i[c]==="percent"?(h==null&&(h=o[c]),g=n.parse(xt(h,o,e))):(l=!0,g=g==null?e[c]:n.parse(g),h=xt(g,e,o)),u[c]=g==null||isNaN(g)?e[c]:g,s[c]=h==null||isNaN(h)?o[c]:h}),pr(u),pr(s);var f=this._minMaxSpan;l?v(u,s,e,o,!1):v(s,u,o,e,!0);function v(d,c,h,g,p){var y=p?"Span":"ValueSpan";ia(0,d,h,"all",f["min"+y],f["max"+y]);for(var _=0;_<2;_++)c[_]=xt(d[_],h,g,!0),p&&(c[_]=n.parse(c[_]))}return{valueWindow:u,percentWindow:s}},r.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Ii(this,this._dimName,e),this._updateMinMaxSpan();var a=this.calculateDataWindow(t.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,this._setAxisModel()}},r.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var a=this._dimName,n=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;pt(n,function(u){var l=u.getData(),f=l.mapDimensionsAll(a);if(f.length){if(i==="weakFilter"){var v=l.getStore(),d=G(f,function(c){return l.getDimensionIndex(c)},l);l.filterSelf(function(c){for(var h,g,p,y=0;y<f.length;y++){var _=v.get(d[y],c),m=!isNaN(_),T=_<o[0],S=_>o[1];if(m&&!T&&!S)return!0;m&&(p=!0),T&&(h=!0),S&&(g=!0)}return p&&h&&g})}else pt(f,function(c){if(i==="empty")u.setData(l=l.map(c,function(g){return s(g)?g:NaN}));else{var h={};h[c]=o,l.selectRange(h)}});pt(f,function(c){l.setApproximateExtent(o,c)})}});function s(u){return u>=o[0]&&u<=o[1]}},r.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,a=this._dataExtent;pt(["min","max"],function(n){var i=e.get(n+"Span"),o=e.get(n+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=xt(a[0]+o,a,[0,100],!0):i!=null&&(o=xt(i,[0,100],a,!0)-a[0]),t[n+"Span"]=i,t[n+"ValueSpan"]=o},this)},r.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,a=this._valueWindow;if(e){var n=Ja(a,[0,500]);n=Math.min(n,20);var i=t.axis.scale.rawExtentInfo;e[0]!==0&&i.setDeterminedMinMax("min",+a[0].toFixed(n)),e[1]!==100&&i.setDeterminedMinMax("max",+a[1].toFixed(n)),i.freeze()}},r}();function Ii(r,t,e){var a=[1/0,-1/0];pt(e,function(o){Ka(a,o.getData(),t)});var n=r.getAxisModel(),i=Qa(n.axis.scale,n,a).calculate();return[i.min,i.max]}var Ai={getTargetSeries:function(r){function t(n){r.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var u=r.getComponent(yt(o),s);n(o,s,u,i)})})}t(function(n,i,o,s){o.__dzAxisProxy=null});var e=[];t(function(n,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Ti(n,i,s,r),e.push(o.__dzAxisProxy))});var a=X();return M(e,function(n){M(n.getTargetSeriesModels(),function(i){a.set(i.uid,i)})}),a},overallReset:function(r,t){r.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(a,n){e.getAxisProxy(a,n).reset(e)}),e.eachTargetAxis(function(a,n){e.getAxisProxy(a,n).filterData(e,t)})}),r.eachComponent("dataZoom",function(e){var a=e.findRepresentativeAxisProxy();if(a){var n=a.getDataPercentWindow(),i=a.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};function xi(r){r.registerAction("dataZoom",function(t,e){var a=mi(e,t);M(a,function(n){n.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var mr=!1;function Ci(r){mr||(mr=!0,r.registerProcessor(r.PRIORITY.PROCESSOR.FILTER,Ai),xi(r),r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Mi(r){r.registerComponentModel(_i),r.registerComponentView(Si),Ci(r)}var $=function(){function r(){}return r}(),ma={};function Ct(r,t){ma[r]=t}function ya(r){return ma[r]}var Di=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){r.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;M(this.option.feature,function(a,n){var i=ya(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),Q(a,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Wt),wi=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,a,n,i){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),u=e.get("orient")==="vertical",l=e.get("feature")||{},f=this._features||(this._features={}),v=[];M(l,function(h,g){v.push(g)}),new Lt(this._featureNames||[],v).add(d).update(d).remove(q(d,null)).execute(),this._featureNames=v;function d(h,g){var p=v[h],y=v[g],_=l[p],m=new ja(_,e,e.ecModel),T;if(i&&i.newTitle!=null&&i.featureName===p&&(_.title=i.newTitle),p&&!y){if(Pi(p))T={onclick:m.option.onclick,featureName:p};else{var S=ya(p);if(!S)return;T=new S}f[p]=T}else if(T=f[y],!T)return;T.uid=tn("toolbox-feature"),T.model=m,T.ecModel=a,T.api=n;var b=T instanceof $;if(!p&&y){b&&T.dispose&&T.dispose(a,n);return}if(!m.get("show")||b&&T.unusable){b&&T.remove&&T.remove(a,n);return}c(m,T,p),m.setIconStatus=function(I,x){var A=this.option,C=this.iconPaths;A.iconStatus=A.iconStatus||{},A.iconStatus[I]=x,C[I]&&(x==="emphasis"?Xe:Je)(C[I])},T instanceof $&&T.render&&T.render(m,a,n,i)}function c(h,g,p){var y=h.getModel("iconStyle"),_=h.getModel(["emphasis","iconStyle"]),m=g instanceof $&&g.getIcons?g.getIcons():h.get("icon"),T=h.get("title")||{},S,b;Pt(m)?(S={},S[p]=m):S=m,Pt(T)?(b={},b[p]=T):b=T;var I=h.iconPaths={};M(S,function(x,A){var C=en(x,{},{x:-s/2,y:-s/2,width:s,height:s});C.setStyle(y.getItemStyle());var P=C.ensureState("emphasis");P.style=_.getItemStyle();var D=new wt({style:{text:b[A],align:_.get("textAlign"),borderRadius:_.get("textBorderRadius"),padding:_.get("textPadding"),fill:null,font:rn({fontStyle:_.get("textFontStyle"),fontFamily:_.get("textFontFamily"),fontSize:_.get("textFontSize"),fontWeight:_.get("textFontWeight")},a)},ignore:!0});C.setTextContent(D),an({el:C,componentModel:e,itemName:A,formatterParamsExtra:{title:b[A]}}),C.__title=b[A],C.on("mouseover",function(){var w=_.getItemStyle(),R=u?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";D.setStyle({fill:_.get("textFill")||w.fill||w.stroke||"#000",backgroundColor:_.get("textBackgroundColor")}),C.setTextConfig({position:_.get("textPosition")||R}),D.ignore=!e.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){h.get(["iconStatus",A])!=="emphasis"&&n.leaveEmphasis(this),D.hide()}),(h.get(["iconStatus",A])==="emphasis"?Xe:Je)(C),o.add(C),C.on("click",be(g.onclick,g,a,n,A)),I[A]=C})}wn(o,e,n),o.add(Pn(o.getBoundingRect(),e)),u||o.eachChild(function(h){var g=h.__title,p=h.ensureState("emphasis"),y=p.textConfig||(p.textConfig={}),_=h.getTextContent(),m=_&&_.ensureState("emphasis");if(m&&!ut(m)&&g){var T=m.style||(m.style={}),S=nn(g,wt.makeFont(T)),b=h.x+o.x,I=h.y+o.y+s,x=!1;I+S.height>n.getHeight()&&(y.position="top",x=!0);var A=x?-5-S.height:s+10;b+S.width/2>n.getWidth()?(y.position=["100%",A],T.align="right"):b-S.width/2<0&&(y.position=[0,A],T.align="left")}})},t.prototype.updateView=function(e,a,n,i){M(this._features,function(o){o instanceof $&&o.updateView&&o.updateView(o.model,a,n,i)})},t.prototype.remove=function(e,a){M(this._features,function(n){n instanceof $&&n.remove&&n.remove(e,a)}),this.group.removeAll()},t.prototype.dispose=function(e,a){M(this._features,function(n){n instanceof $&&n.dispose&&n.dispose(e,a)})},t.type="toolbox",t}(Ut);function Pi(r){return r.indexOf("my")===0}var Ei=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,a){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o=a.getZr().painter.getType()==="svg",s=o?"svg":n.get("type",!0)||"png",u=a.getConnectedDataURL({type:s,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),l=on.browser;if(ut(MouseEvent)&&(l.newEdge||!l.ie&&!l.edge)){var f=document.createElement("a");f.download=i+"."+s,f.target="_blank",f.href=u;var v=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});f.dispatchEvent(v)}else if(window.navigator.msSaveOrOpenBlob||o){var d=u.split(","),c=d[0].indexOf("base64")>-1,h=o?decodeURIComponent(d[1]):d[1];c&&(h=window.atob(h));var g=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var p=h.length,y=new Uint8Array(p);p--;)y[p]=h.charCodeAt(p);var _=new Blob([y]);window.navigator.msSaveOrOpenBlob(_,g)}else{var m=document.createElement("iframe");document.body.appendChild(m);var T=m.contentWindow,S=T.document;S.open("image/svg+xml","replace"),S.write(h),S.close(),T.focus(),S.execCommand("SaveAs",!0,g),document.body.removeChild(m)}}else{var b=n.get("lang"),I='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(b&&b[0]||"")+'" /></body>',x=window.open();x.document.write(I),x.document.title=i}},t.getDefaultOption=function(e){var a={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return a},t}($),yr="__ec_magicType_stack__",Ri=[["line","bar"],["stack"]],Oi=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,a=e.get("icon"),n={};return M(e.get("type"),function(i){a[i]&&(n[i]=a[i])}),n},t.getDefaultOption=function(e){var a={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return a},t.prototype.onclick=function(e,a,n){var i=this.model,o=i.get(["seriesIndex",n]);if(_r[n]){var s={series:[]},u=function(v){var d=v.subType,c=v.id,h=_r[n](d,c,v,i);h&&(H(h,v.option),s.series.push(h));var g=v.coordinateSystem;if(g&&g.type==="cartesian2d"&&(n==="line"||n==="bar")){var p=g.getAxesByScale("ordinal")[0];if(p){var y=p.dim,_=y+"Axis",m=v.getReferringComponents(_,Nt).models[0],T=m.componentIndex;s[_]=s[_]||[];for(var S=0;S<=T;S++)s[_][T]=s[_][T]||{};s[_][T].boundaryGap=n==="bar"}}};M(Ri,function(v){St(v,n)>=0&&M(v,function(d){i.setIconStatus(d,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},u);var l,f=n;n==="stack"&&(l=Q({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",n])!=="emphasis"&&(f="tiled")),a.dispatchAction({type:"changeMagicType",currentType:f,newOption:s,newTitle:l,featureName:"magicType"})}},t}($),_r={line:function(r,t,e,a){if(r==="bar")return Q({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},a.get(["option","line"])||{},!0)},bar:function(r,t,e,a){if(r==="line")return Q({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},a.get(["option","bar"])||{},!0)},stack:function(r,t,e,a){var n=e.get("stack")===yr;if(r==="line"||r==="bar")return a.setIconStatus("stack",n?"normal":"emphasis"),Q({id:t,stack:n?"":yr},a.get(["option","stack"])||{},!0)}};Se({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(r,t){t.mergeOption(r.newOption)});var $t=new Array(60).join("-"),It="	";function Li(r){var t={},e=[],a=[];return r.eachRawSeries(function(n){var i=n.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},a.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(n)}else e.push(n)}else e.push(n)}),{seriesGroupByCategoryAxis:t,other:e,meta:a}}function ki(r){var t=[];return M(r,function(e,a){var n=e.categoryAxis,i=e.valueAxis,o=i.dim,s=[" "].concat(G(e.series,function(c){return c.name})),u=[n.model.getCategories()];M(e.series,function(c){var h=c.getRawData();u.push(c.getRawData().mapArray(h.mapDimension(o),function(g){return g}))});for(var l=[s.join(It)],f=0;f<u[0].length;f++){for(var v=[],d=0;d<u.length;d++)v.push(u[d][f]);l.push(v.join(It))}t.push(l.join(`
`))}),t.join(`

`+$t+`

`)}function Ni(r){return G(r,function(t){var e=t.getRawData(),a=[t.name],n=[];return e.each(e.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=e.getName(o),u=0;u<i-1;u++)n[u]=arguments[u];a.push((s?s+It:"")+n.join(It))}),a.join(`
`)}).join(`

`+$t+`

`)}function Gi(r){var t=Li(r);return{value:oe([ki(t.seriesGroupByCategoryAxis),Ni(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+$t+`

`),meta:t.meta}}function Vt(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vi(r){var t=r.slice(0,r.indexOf(`
`));if(t.indexOf(It)>=0)return!0}var de=new RegExp("["+It+"]+","g");function Bi(r){for(var t=r.split(/\n+/g),e=Vt(t.shift()).split(de),a=[],n=G(e,function(u){return{name:u,data:[]}}),i=0;i<t.length;i++){var o=Vt(t[i]).split(de);a.push(o.shift());for(var s=0;s<o.length;s++)n[s]&&(n[s].data[i]=o[s])}return{series:n,categories:a}}function zi(r){for(var t=r.split(/\n+/g),e=Vt(t.shift()),a=[],n=0;n<t.length;n++){var i=Vt(t[n]);if(i){var o=i.split(de),s="",u=void 0,l=!1;isNaN(o[0])?(l=!0,s=o[0],o=o.slice(1),a[n]={name:s,value:[]},u=a[n].value):u=a[n]=[];for(var f=0;f<o.length;f++)u.push(+o[f]);u.length===1&&(l?a[n].value=u[0]:a[n]=u[0])}}return{name:e,data:a}}function Zi(r,t){var e=r.split(new RegExp(`
*`+$t+`
*`,"g")),a={series:[]};return M(e,function(n,i){if(Vi(n)){var o=Bi(n),s=t[i],u=s.axisDim+"Axis";s&&(a[u]=a[u]||[],a[u][s.axisIndex]={data:o.categories},a.series=a.series.concat(o.series))}else{var o=zi(n);a.series.push(o)}}),a}var Fi=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,a){setTimeout(function(){a.dispatchAction({type:"hideTip"})});var n=a.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),u=i.get("lang")||[];s.innerHTML=u[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var l=document.createElement("div"),f=document.createElement("textarea");l.style.cssText="overflow:auto";var v=i.get("optionToContent"),d=i.get("contentToOption"),c=Gi(e);if(ut(v)){var h=v(a.getOption());Pt(h)?l.innerHTML=h:sn(h)&&l.appendChild(h)}else{f.readOnly=i.get("readOnly");var g=f.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=i.get("textColor"),g.borderColor=i.get("textareaBorderColor"),g.backgroundColor=i.get("textareaColor"),f.value=c.value,l.appendChild(f)}var p=c.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var _="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",m=document.createElement("div"),T=document.createElement("div");_+=";background-color:"+i.get("buttonColor"),_+=";color:"+i.get("buttonTextColor");var S=this;function b(){n.removeChild(o),S._dom=null}Ke(m,"click",b),Ke(T,"click",function(){if(d==null&&v!=null||d!=null&&v==null){b();return}var I;try{ut(d)?I=d(l,a.getOption()):I=Zi(f.value,p)}catch(x){throw b(),new Error("Data view format error "+x)}I&&a.dispatchAction({type:"changeDataView",newOption:I}),b()}),m.innerHTML=u[1],T.innerHTML=u[2],T.style.cssText=m.style.cssText=_,!i.get("readOnly")&&y.appendChild(T),y.appendChild(m),o.appendChild(s),o.appendChild(l),o.appendChild(y),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},t.prototype.remove=function(e,a){this._dom&&a.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,a){this.remove(e,a)},t.getDefaultOption=function(e){var a={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return a},t}($);function Wi(r,t){return G(r,function(e,a){var n=t&&t[a];if(Rt(n)&&!nt(n)){var i=Rt(e)&&!nt(e);i||(e={value:e});var o=n.name!=null&&e.name==null;return e=H(e,n),o&&delete e.name,e}else return e})}Se({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(r,t){var e=[];M(r.newOption.series,function(a){var n=t.getSeriesByName(a.name)[0];if(!n)e.push(ie({type:"scatter"},a));else{var i=n.get("data");e.push({name:a.name,data:Wi(a.data,i)})}}),t.mergeOption(H({series:e},r.newOption))});var _a=M,ba=Kr();function Ui(r,t){var e=Ee(r);_a(t,function(a,n){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o[n])break}if(i<0){var s=r.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(s){var u=s.getPercentRange();e[0][n]={dataZoomId:n,start:u[0],end:u[1]}}}}),e.push(t)}function Hi(r){var t=Ee(r),e=t[t.length-1];t.length>1&&t.pop();var a={};return _a(e,function(n,i){for(var o=t.length-1;o>=0;o--)if(n=t[o][i],n){a[i]=n;break}}),a}function $i(r){ba(r).snapshots=null}function qi(r){return Ee(r).length}function Ee(r){var t=ba(r);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var Xi=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.onclick=function(e,a){$i(e),a.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var a={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return a},t}($);Se({type:"restore",event:"restore",update:"prepareAndUpdate"},function(r,t){t.resetOption("recreate")});var Ji=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Sa=function(){function r(t,e,a){var n=this;this._targetInfoList=[];var i=br(e,t);M(Ki,function(o,s){(!a||!a.include||St(a.include,s)>=0)&&o(i,n._targetInfoList)})}return r.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(a,n,i){if((a.coordRanges||(a.coordRanges=[])).push(n),!a.coordRange){a.coordRange=n;var o=te[a.brushType](0,i,n);a.__rangeOffset={offset:Ar[a.brushType](o.values,a.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},r.prototype.matchOutputRanges=function(t,e,a){M(t,function(n){var i=this.findTargetInfo(n,e);i&&i!==!0&&M(i.coordSyses,function(o){var s=te[n.brushType](1,o,n.range,!0);a(n,s.values,o,e)})},this)},r.prototype.setInputRanges=function(t,e){M(t,function(a){var n=this.findTargetInfo(a,e);if(a.range=a.range||[],n&&n!==!0){a.panelId=n.panelId;var i=te[a.brushType](0,n.coordSys,a.coordRange),o=a.__rangeOffset;a.range=o?Ar[a.brushType](i.values,o.offset,Qi(i.xyMinMax,o.xyMinMax)):i.values}},this)},r.prototype.makePanelOpts=function(t,e){return G(this._targetInfoList,function(a){var n=a.getPanelRect();return{panelId:a.panelId,defaultBrushType:e?e(a):null,clipPath:ci(n),isTargetByCursor:hi(n,t,a.coordSysModel),getLinearBrushOtherExtent:di(n)}})},r.prototype.controlSeries=function(t,e,a){var n=this.findTargetInfo(t,a);return n===!0||n&&St(n.coordSyses,e.coordinateSystem)>=0},r.prototype.findTargetInfo=function(t,e){for(var a=this._targetInfoList,n=br(e,t),i=0;i<a.length;i++){var o=a[i],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var u=0;u<Sr.length;u++)if(Sr[u](n,o))return o}return!0},r}();function he(r){return r[0]>r[1]&&r.reverse(),r}function br(r,t){return Qr(r,t,{includeMainTypes:Ji})}var Ki={grid:function(r,t){var e=r.xAxisModels,a=r.yAxisModels,n=r.gridModels,i=X(),o={},s={};!e&&!a&&!n||(M(e,function(u){var l=u.axis.grid.model;i.set(l.id,l),o[l.id]=!0}),M(a,function(u){var l=u.axis.grid.model;i.set(l.id,l),s[l.id]=!0}),M(n,function(u){i.set(u.id,u),o[u.id]=!0,s[u.id]=!0}),i.each(function(u){var l=u.coordinateSystem,f=[];M(l.getCartesians(),function(v,d){(St(e,v.getAxis("x").model)>=0||St(a,v.getAxis("y").model)>=0)&&f.push(v)}),t.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:f[0],coordSyses:f,getPanelRect:Tr.grid,xAxisDeclared:o[u.id],yAxisDeclared:s[u.id]})}))},geo:function(r,t){M(r.geoModels,function(e){var a=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:a,coordSyses:[a],getPanelRect:Tr.geo})})}},Sr=[function(r,t){var e=r.xAxisModel,a=r.yAxisModel,n=r.gridModel;return!n&&e&&(n=e.axis.grid.model),!n&&a&&(n=a.axis.grid.model),n&&n===t.gridModel},function(r,t){var e=r.geoModel;return e&&e===t.geoModel}],Tr={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var r=this.coordSys,t=r.getBoundingRect().clone();return t.applyTransform(Xr(r)),t}},te={lineX:q(Ir,0),lineY:q(Ir,1),rect:function(r,t,e,a){var n=r?t.pointToData([e[0][0],e[1][0]],a):t.dataToPoint([e[0][0],e[1][0]],a),i=r?t.pointToData([e[0][1],e[1][1]],a):t.dataToPoint([e[0][1],e[1][1]],a),o=[he([n[0],i[0]]),he([n[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(r,t,e,a){var n=[[1/0,-1/0],[1/0,-1/0]],i=G(e,function(o){var s=r?t.pointToData(o,a):t.dataToPoint(o,a);return n[0][0]=Math.min(n[0][0],s[0]),n[1][0]=Math.min(n[1][0],s[1]),n[0][1]=Math.max(n[0][1],s[0]),n[1][1]=Math.max(n[1][1],s[1]),s});return{values:i,xyMinMax:n}}};function Ir(r,t,e,a){var n=e.getAxis(["x","y"][r]),i=he(G([0,1],function(s){return t?n.coordToData(n.toLocalCoord(a[s]),!0):n.toGlobalCoord(n.dataToCoord(a[s]))})),o=[];return o[r]=i,o[1-r]=[NaN,NaN],{values:i,xyMinMax:o}}var Ar={lineX:q(xr,0),lineY:q(xr,1),rect:function(r,t,e){return[[r[0][0]-e[0]*t[0][0],r[0][1]-e[0]*t[0][1]],[r[1][0]-e[1]*t[1][0],r[1][1]-e[1]*t[1][1]]]},polygon:function(r,t,e){return G(r,function(a,n){return[a[0]-e[0]*t[n][0],a[1]-e[1]*t[n][1]]})}};function xr(r,t,e,a){return[t[0]-a[r]*e[0],t[1]-a[r]*e[1]]}function Qi(r,t){var e=Cr(r),a=Cr(t),n=[e[0]/a[0],e[1]/a[1]];return isNaN(n[0])&&(n[0]=1),isNaN(n[1])&&(n[1]=1),n}function Cr(r){return r?[r[0][1]-r[0][0],r[1][1]-r[1][0]]:[NaN,NaN]}var ge=M,Yi=ln("toolbox-dataZoom_"),ji=function(r){V(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.render=function(e,a,n,i){this._brushController||(this._brushController=new ai(n.getZr()),this._brushController.on("brush",be(this._onBrush,this)).mount()),ro(e,a,this,i,n),eo(e,a)},t.prototype.onclick=function(e,a,n){to[n].call(this)},t.prototype.remove=function(e,a){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,a){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var a=e.areas;if(!e.isEnd||!a.length)return;var n={},i=this.ecModel;this._brushController.updateCovers([]);var o=new Sa(Re(this.model),i,{include:["grid"]});o.matchOutputRanges(a,i,function(l,f,v){if(v.type==="cartesian2d"){var d=l.brushType;d==="rect"?(s("x",v,f[0]),s("y",v,f[1])):s({lineX:"x",lineY:"y"}[d],v,f)}}),Ui(i,n),this._dispatchZoomAction(n);function s(l,f,v){var d=f.getAxis(l),c=d.model,h=u(l,c,i),g=h.findRepresentativeAxisProxy(c).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(v=ia(0,v.slice(),d.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),h&&(n[h.id]={dataZoomId:h.id,startValue:v[0],endValue:v[1]})}function u(l,f,v){var d;return v.eachComponent({mainType:"dataZoom",subType:"select"},function(c){var h=c.getAxisModel(l,f.componentIndex);h&&(d=c)}),d}},t.prototype._dispatchZoomAction=function(e){var a=[];ge(e,function(n,i){a.push(at(n))}),a.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:a})},t.getDefaultOption=function(e){var a={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return a},t}($),to={zoom:function(){var r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:r})},back:function(){this._dispatchZoomAction(Hi(this.ecModel))}};function Re(r){var t={xAxisIndex:r.get("xAxisIndex",!0),yAxisIndex:r.get("yAxisIndex",!0),xAxisId:r.get("xAxisId",!0),yAxisId:r.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function eo(r,t){r.setIconStatus("back",qi(t)>1?"emphasis":"normal")}function ro(r,t,e,a,n){var i=e._isZoomActive;a&&a.type==="takeGlobalCursor"&&(i=a.key==="dataZoomSelect"?a.dataZoomSelectActive:!1),e._isZoomActive=i,r.setIconStatus("zoom",i?"emphasis":"normal");var o=new Sa(Re(r),t,{include:["grid"]}),s=o.makePanelOpts(n,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:r.getModel("brushStyle").getItemStyle()}:!1)}un("dataZoom",function(r){var t=r.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var a=t.getModel(e),n=[],i=Re(a),o=Qr(r,i);ge(o.xAxisModels,function(u){return s(u,"xAxis","xAxisIndex")}),ge(o.yAxisModels,function(u){return s(u,"yAxis","yAxisIndex")});function s(u,l,f){var v=u.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:a.get("filterMode",!0)||"filter",id:Yi+l+v};d[f]=v,n.push(d)}return n});function Jo(r){r.registerComponentModel(Di),r.registerComponentView(wi),Ct("saveAsImage",Ei),Ct("magicType",Oi),Ct("dataView",Fi),Ct("dataZoom",ji),Ct("restore",Xi),vn(Mi)}var ao=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Wt),no=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,a,n){if(this.group.removeAll(),!!e.get("show")){var i=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),u=e.get("textAlign"),l=fn(e.get("textBaseline"),e.get("textVerticalAlign")),f=new wt({style:Qe(o,{text:e.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),v=f.getBoundingRect(),d=e.get("subtext"),c=new wt({style:Qe(s,{text:d,fill:s.getTextColor(),y:v.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),h=e.get("link"),g=e.get("sublink"),p=e.get("triggerEvent",!0);f.silent=!h&&!p,c.silent=!g&&!p,h&&f.on("click",function(){Ye(h,"_"+e.get("target"))}),g&&c.on("click",function(){Ye(g,"_"+e.get("subtarget"))}),Mt(f).eventData=Mt(c).eventData=p?{componentType:"title",componentIndex:e.componentIndex}:null,i.add(f),d&&i.add(c);var y=i.getBoundingRect(),_=e.getBoxLayoutParams();_.width=y.width,_.height=y.height;var m=cn(_,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));u||(u=e.get("left")||e.get("right"),u==="middle"&&(u="center"),u==="right"?m.x+=m.width:u==="center"&&(m.x+=m.width/2)),l||(l=e.get("top")||e.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?m.y+=m.height:l==="middle"&&(m.y+=m.height/2),l=l||"top"),i.x=m.x,i.y=m.y,i.markRedraw();var T={align:u,verticalAlign:l};f.setStyle(T),c.setStyle(T),y=i.getBoundingRect();var S=m.margin,b=e.getItemStyle(["color","opacity"]);b.fill=e.get("backgroundColor");var I=new kt({shape:{x:y.x-S[3],y:y.y-S[0],width:y.width+S[1]+S[3],height:y.height+S[0]+S[2],r:e.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});i.add(I)}},t.type="title",t}(Ut);function Ko(r){r.registerComponentModel(ao),r.registerComponentView(no)}var Mr={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},io=function(){function r(t){var e=this._condVal=Pt(t)?new RegExp(t):pn(t)?t:null;if(e==null){var a="";B(a)}}return r.prototype.evaluate=function(t){var e=typeof t;return Pt(e)?this._condVal.test(t):_e(e)?this._condVal.test(t+""):!1},r}(),oo=function(){function r(){}return r.prototype.evaluate=function(){return this.value},r}(),so=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},r}(),uo=function(){function r(){}return r.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},r}(),lo=function(){function r(){}return r.prototype.evaluate=function(){return!this.child.evaluate()},r}(),vo=function(){function r(){}return r.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,a=e(this.valueGetterParam),n=t?this.valueParser(a):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:a))return!1;return!0},r}();function Oe(r,t){if(r===!0||r===!1){var e=new oo;return e.value=r,e}var a="";return Ta(r)||B(a),r.and?Dr("and",r,t):r.or?Dr("or",r,t):r.not?fo(r,t):co(r,t)}function Dr(r,t,e){var a=t[r],n="";nt(a)||B(n),a.length||B(n);var i=r==="and"?new so:new uo;return i.children=G(a,function(o){return Oe(o,e)}),i.children.length||B(n),i}function fo(r,t){var e=r.not,a="";Ta(e)||B(a);var n=new lo;return n.child=Oe(e,t),n.child||B(a),n}function co(r,t){for(var e="",a=t.prepareGetValue(r),n=[],i=dn(r),o=r.parser,s=o?Yr(o):null,u=0;u<i.length;u++){var l=i[u];if(!(l==="parser"||t.valueGetterAttrMap.get(l))){var f=jr(Mr,l)?Mr[l]:l,v=r[l],d=s?s(v):v,c=hn(f,d)||f==="reg"&&new io(d);c||B(e),n.push(c)}}n.length||B(e);var h=new vo;return h.valueGetterParam=a,h.valueParser=s,h.getValue=t.getValue,h.subCondList=n,h}function Ta(r){return Rt(r)&&!gn(r)}var ho=function(){function r(t,e){this._cond=Oe(t,e)}return r.prototype.evaluate=function(){return this._cond.evaluate()},r}();function go(r,t){return new ho(r,t)}var po={type:"echarts:filter",transform:function(r){for(var t=r.upstream,e,a=go(r.config,{valueGetterAttrMap:X({dimension:!0}),prepareGetValue:function(s){var u="",l=s.dimension;jr(s,"dimension")||B(u);var f=t.getDimensionInfo(l);return f||B(u),{dimIdx:f.index}},getValue:function(s){return t.retrieveValueFromItem(e,s.dimIdx)}}),n=[],i=0,o=t.count();i<o;i++)e=t.getRawDataItem(i),a.evaluate()&&n.push(e);return{data:n}}},mo={type:"echarts:sort",transform:function(r){var t=r.upstream,e=r.config,a="",n=bt(e);n.length||B(a);var i=[];M(n,function(f){var v=f.dimension,d=f.order,c=f.parser,h=f.incomparable;if(v==null&&B(a),d!=="asc"&&d!=="desc"&&B(a),h&&h!=="min"&&h!=="max"){var g="";B(g)}if(d!=="asc"&&d!=="desc"){var p="";B(p)}var y=t.getDimensionInfo(v);y||B(a);var _=c?Yr(c):null;c&&!_&&B(a),i.push({dimIdx:y.index,parser:_,comparator:new mn(d,h)})});var o=t.sourceFormat;o!==yn&&o!==_n&&B(a);for(var s=[],u=0,l=t.count();u<l;u++)s.push(t.getRawDataItem(u));return s.sort(function(f,v){for(var d=0;d<i.length;d++){var c=i[d],h=t.retrieveValueFromItem(f,c.dimIdx),g=t.retrieveValueFromItem(v,c.dimIdx);c.parser&&(h=c.parser(h),g=c.parser(g));var p=c.comparator.evaluate(h,g);if(p!==0)return p}return 0}),{data:s}}};function Qo(r){r.registerTransform(po),r.registerTransform(mo)}var yo=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.prototype.init=function(e,a,n){r.prototype.init.call(this,e,a,n),this._sourceManager=new bn(this),je(this)},t.prototype.mergeOption=function(e,a){r.prototype.mergeOption.call(this,e,a),je(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Sn},t}(Wt),_o=function(r){V(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.type="dataset",e}return t.type="dataset",t}(Ut);function Yo(r){r.registerComponentModel(yo),r.registerComponentView(_o)}var J=Hr.CMD;function _t(r,t){return Math.abs(r-t)<1e-5}function pe(r){var t=r.data,e=r.len(),a=[],n,i=0,o=0,s=0,u=0;function l(w,R){n&&n.length>2&&a.push(n),n=[w,R]}function f(w,R,L,E){_t(w,L)&&_t(R,E)||n.push(w,R,L,E,L,E)}function v(w,R,L,E,N,O){var k=Math.abs(R-w),z=Math.tan(k/4)*4/3,F=R<w?-1:1,Y=Math.cos(w),W=Math.sin(w),U=Math.cos(R),it=Math.sin(R),Z=Y*N+L,qt=W*O+E,ke=U*N+L,Ne=it*O+E,Ge=N*z*F,Ve=O*z*F;n.push(Z-Ge*W,qt+Ve*Y,ke+Ge*it,Ne-Ve*U,ke,Ne)}for(var d,c,h,g,p=0;p<e;){var y=t[p++],_=p===1;switch(_&&(i=t[p],o=t[p+1],s=i,u=o,(y===J.L||y===J.C||y===J.Q)&&(n=[s,u])),y){case J.M:i=s=t[p++],o=u=t[p++],l(s,u);break;case J.L:d=t[p++],c=t[p++],f(i,o,d,c),i=d,o=c;break;case J.C:n.push(t[p++],t[p++],t[p++],t[p++],i=t[p++],o=t[p++]);break;case J.Q:d=t[p++],c=t[p++],h=t[p++],g=t[p++],n.push(i+2/3*(d-i),o+2/3*(c-o),h+2/3*(d-h),g+2/3*(c-g),h,g),i=h,o=g;break;case J.A:var m=t[p++],T=t[p++],S=t[p++],b=t[p++],I=t[p++],x=t[p++]+I;p+=1;var A=!t[p++];d=Math.cos(I)*S+m,c=Math.sin(I)*b+T,_?(s=d,u=c,l(s,u)):f(i,o,d,c),i=Math.cos(x)*S+m,o=Math.sin(x)*b+T;for(var C=(A?-1:1)*Math.PI/2,P=I;A?P>x:P<x;P+=C){var D=A?Math.max(P+C,x):Math.min(P+C,x);v(P,D,m,T,S,b)}break;case J.R:s=i=t[p++],u=o=t[p++],d=s+t[p++],c=u+t[p++],l(d,u),f(d,u,d,c),f(d,c,s,c),f(s,c,s,u),f(s,u,d,u);break;case J.Z:n&&f(i,o,s,u),i=s,o=u;break}}return n&&n.length>2&&a.push(n),a}function me(r,t,e,a,n,i,o,s,u,l){if(_t(r,e)&&_t(t,a)&&_t(n,o)&&_t(i,s)){u.push(o,s);return}var f=2/l,v=f*f,d=o-r,c=s-t,h=Math.sqrt(d*d+c*c);d/=h,c/=h;var g=e-r,p=a-t,y=n-o,_=i-s,m=g*g+p*p,T=y*y+_*_;if(m<v&&T<v){u.push(o,s);return}var S=d*g+c*p,b=-d*y-c*_,I=m-S*S,x=T-b*b;if(I<v&&S>=0&&x<v&&b>=0){u.push(o,s);return}var A=[],C=[];Gt(r,e,n,o,.5,A),Gt(t,a,i,s,.5,C),me(A[0],C[0],A[1],C[1],A[2],C[2],A[3],C[3],u,l),me(A[4],C[4],A[5],C[5],A[6],C[6],A[7],C[7],u,l)}function bo(r,t){var e=pe(r),a=[];t=t||1;for(var n=0;n<e.length;n++){var i=e[n],o=[],s=i[0],u=i[1];o.push(s,u);for(var l=2;l<i.length;){var f=i[l++],v=i[l++],d=i[l++],c=i[l++],h=i[l++],g=i[l++];me(s,u,f,v,d,c,h,g,o,t),s=h,u=g}a.push(o)}return a}function Ia(r,t,e){var a=r[t],n=r[1-t],i=Math.abs(a/n),o=Math.ceil(Math.sqrt(i*e)),s=Math.floor(e/o);s===0&&(s=1,o=e);for(var u=[],l=0;l<o;l++)u.push(s);var f=o*s,v=e-f;if(v>0)for(var l=0;l<v;l++)u[l%o]+=1;return u}function wr(r,t,e){for(var a=r.r0,n=r.r,i=r.startAngle,o=r.endAngle,s=Math.abs(o-i),u=s*n,l=n-a,f=u>Math.abs(l),v=Ia([u,l],f?0:1,t),d=(f?s:l)/v.length,c=0;c<v.length;c++)for(var h=(f?l:s)/v[c],g=0;g<v[c];g++){var p={};f?(p.startAngle=i+d*c,p.endAngle=i+d*(c+1),p.r0=a+h*g,p.r=a+h*(g+1)):(p.startAngle=i+h*g,p.endAngle=i+h*(g+1),p.r0=a+d*c,p.r=a+d*(c+1)),p.clockwise=r.clockwise,p.cx=r.cx,p.cy=r.cy,e.push(p)}}function So(r,t,e){for(var a=r.width,n=r.height,i=a>n,o=Ia([a,n],i?0:1,t),s=i?"width":"height",u=i?"height":"width",l=i?"x":"y",f=i?"y":"x",v=r[s]/o.length,d=0;d<o.length;d++)for(var c=r[u]/o[d],h=0;h<o[d];h++){var g={};g[l]=d*v,g[f]=h*c,g[s]=v,g[u]=c,g.x+=r.x,g.y+=r.y,e.push(g)}}function Pr(r,t,e,a){return r*a-e*t}function To(r,t,e,a,n,i,o,s){var u=e-r,l=a-t,f=o-n,v=s-i,d=Pr(f,v,u,l);if(Math.abs(d)<1e-6)return null;var c=r-n,h=t-i,g=Pr(c,h,f,v)/d;return g<0||g>1?null:new st(g*u+r,g*l+t)}function Io(r,t,e){var a=new st;st.sub(a,e,t),a.normalize();var n=new st;st.sub(n,r,t);var i=n.dot(a);return i}function ht(r,t){var e=r[r.length-1];e&&e[0]===t[0]&&e[1]===t[1]||r.push(t)}function Ao(r,t,e){for(var a=r.length,n=[],i=0;i<a;i++){var o=r[i],s=r[(i+1)%a],u=To(o[0],o[1],s[0],s[1],t.x,t.y,e.x,e.y);u&&n.push({projPt:Io(u,t,e),pt:u,idx:i})}if(n.length<2)return[{points:r},{points:r}];n.sort(function(p,y){return p.projPt-y.projPt});var l=n[0],f=n[n.length-1];if(f.idx<l.idx){var v=l;l=f,f=v}for(var d=[l.pt.x,l.pt.y],c=[f.pt.x,f.pt.y],h=[d],g=[c],i=l.idx+1;i<=f.idx;i++)ht(h,r[i].slice());ht(h,c),ht(h,d);for(var i=f.idx+1;i<=l.idx+a;i++)ht(g,r[i%a].slice());return ht(g,d),ht(g,c),[{points:h},{points:g}]}function Er(r){var t=r.points,e=[],a=[];ta(t,e,a);var n=new Jr(e[0],e[1],a[0]-e[0],a[1]-e[1]),i=n.width,o=n.height,s=n.x,u=n.y,l=new st,f=new st;return i>o?(l.x=f.x=s+i/2,l.y=u,f.y=u+o):(l.y=f.y=u+o/2,l.x=s,f.x=s+i),Ao(t,l,f)}function Bt(r,t,e,a){if(e===1)a.push(t);else{var n=Math.floor(e/2),i=r(t);Bt(r,i[0],n,a),Bt(r,i[1],e-n,a)}return a}function xo(r,t){for(var e=[],a=0;a<t;a++)e.push(Te(r));return e}function Co(r,t){t.setStyle(r.style),t.z=r.z,t.z2=r.z2,t.zlevel=r.zlevel}function Mo(r){for(var t=[],e=0;e<r.length;)t.push([r[e++],r[e++]]);return t}function Do(r,t){var e=[],a=r.shape,n;switch(r.type){case"rect":So(a,t,e),n=kt;break;case"sector":wr(a,t,e),n=tr;break;case"circle":wr({r0:0,r:a.r,startAngle:0,endAngle:Math.PI*2,cx:a.cx,cy:a.cy},t,e),n=tr;break;default:var i=r.getComputedTransform(),o=i?Math.sqrt(Math.max(i[0]*i[0]+i[1]*i[1],i[2]*i[2]+i[3]*i[3])):1,s=G(bo(r.getUpdatedPathProxy(),o),function(y){return Mo(y)}),u=s.length;if(u===0)Bt(Er,{points:s[0]},t,e);else if(u===t)for(var l=0;l<u;l++)e.push({points:s[l]});else{var f=0,v=G(s,function(y){var _=[],m=[];ta(y,_,m);var T=(m[1]-_[1])*(m[0]-_[0]);return f+=T,{poly:y,area:T}});v.sort(function(y,_){return _.area-y.area});for(var d=t,l=0;l<u;l++){var c=v[l];if(d<=0)break;var h=l===u-1?d:Math.ceil(c.area/f*t);h<0||(Bt(Er,{points:c.poly},h,e),d-=h)}}n=qr;break}if(!n)return xo(r,t);for(var g=[],l=0;l<e.length;l++){var p=new n;p.setShape(e[l]),Co(r,p),g.push(p)}return g}function wo(r,t){var e=r.length,a=t.length;if(e===a)return[r,t];for(var n=[],i=[],o=e<a?r:t,s=Math.min(e,a),u=Math.abs(a-e)/6,l=(s-2)/6,f=Math.ceil(u/l)+1,v=[o[0],o[1]],d=u,c=2;c<s;){var h=o[c-2],g=o[c-1],p=o[c++],y=o[c++],_=o[c++],m=o[c++],T=o[c++],S=o[c++];if(d<=0){v.push(p,y,_,m,T,S);continue}for(var b=Math.min(d,f-1)+1,I=1;I<=b;I++){var x=I/b;Gt(h,p,_,T,x,n),Gt(g,y,m,S,x,i),h=n[3],g=i[3],v.push(n[1],i[1],n[2],i[2],h,g),p=n[5],y=i[5],_=n[6],m=i[6]}d-=b-1}return o===r?[v,t]:[r,v]}function Rr(r,t){for(var e=r.length,a=r[e-2],n=r[e-1],i=[],o=0;o<t.length;)i[o++]=a,i[o++]=n;return i}function Po(r,t){for(var e,a,n,i=[],o=[],s=0;s<Math.max(r.length,t.length);s++){var u=r[s],l=t[s],f=void 0,v=void 0;u?l?(e=wo(u,l),f=e[0],v=e[1],a=f,n=v):(v=Rr(n||u,u),f=u):(f=Rr(a||l,l),v=l),i.push(f),o.push(v)}return[i,o]}function Or(r){for(var t=0,e=0,a=0,n=r.length,i=0,o=n-2;i<n;o=i,i+=2){var s=r[o],u=r[o+1],l=r[i],f=r[i+1],v=s*f-l*u;t+=v,e+=(s+l)*v,a+=(u+f)*v}return t===0?[r[0]||0,r[1]||0]:[e/t/3,a/t/3,t]}function Eo(r,t,e,a){for(var n=(r.length-2)/6,i=1/0,o=0,s=r.length,u=s-2,l=0;l<n;l++){for(var f=l*6,v=0,d=0;d<s;d+=2){var c=d===0?f:(f+d-2)%u+2,h=r[c]-e[0],g=r[c+1]-e[1],p=t[d]-a[0],y=t[d+1]-a[1],_=p-h,m=y-g;v+=_*_+m*m}v<i&&(i=v,o=l)}return o}function Ro(r){for(var t=[],e=r.length,a=0;a<e;a+=2)t[a]=r[e-a-2],t[a+1]=r[e-a-1];return t}function Oo(r,t,e,a){for(var n=[],i,o=0;o<r.length;o++){var s=r[o],u=t[o],l=Or(s),f=Or(u);i==null&&(i=l[2]<0!=f[2]<0);var v=[],d=[],c=0,h=1/0,g=[],p=s.length;i&&(s=Ro(s));for(var y=Eo(s,u,l,f)*6,_=p-2,m=0;m<_;m+=2){var T=(y+m)%_+2;v[m+2]=s[T]-l[0],v[m+3]=s[T+1]-l[1]}v[0]=s[y]-l[0],v[1]=s[y+1]-l[1];for(var S=a/e,b=-a/2;b<=a/2;b+=S){for(var I=Math.sin(b),x=Math.cos(b),A=0,m=0;m<s.length;m+=2){var C=v[m],P=v[m+1],D=u[m]-f[0],w=u[m+1]-f[1],R=D*x-w*I,L=D*I+w*x;g[m]=R,g[m+1]=L;var E=R-C,N=L-P;A+=E*E+N*N}if(A<h){h=A,c=b;for(var O=0;O<g.length;O++)d[O]=g[O]}}n.push({from:v,to:d,fromCp:l,toCp:f,rotation:-c})}return n}function zt(r){return r.__isCombineMorphing}var Aa="__mOriginal_";function Zt(r,t,e){var a=Aa+t,n=r[a]||r[t];r[a]||(r[a]=r[t]);var i=e.replace,o=e.after,s=e.before;r[t]=function(){var u=arguments,l;return s&&s.apply(this,u),i?l=i.apply(this,u):l=n.apply(this,u),o&&o.apply(this,u),l}}function Dt(r,t){var e=Aa+t;r[e]&&(r[t]=r[e],r[e]=null)}function Lr(r,t){for(var e=0;e<r.length;e++)for(var a=r[e],n=0;n<a.length;){var i=a[n],o=a[n+1];a[n++]=t[0]*i+t[2]*o+t[4],a[n++]=t[1]*i+t[3]*o+t[5]}}function xa(r,t){var e=r.getUpdatedPathProxy(),a=t.getUpdatedPathProxy(),n=Po(pe(e),pe(a)),i=n[0],o=n[1],s=r.getComputedTransform(),u=t.getComputedTransform();function l(){this.transform=null}s&&Lr(i,s),u&&Lr(o,u),Zt(t,"updateTransform",{replace:l}),t.transform=null;var f=Oo(i,o,10,Math.PI),v=[];Zt(t,"buildPath",{replace:function(d){for(var c=t.__morphT,h=1-c,g=[],p=0;p<f.length;p++){var y=f[p],_=y.from,m=y.to,T=y.rotation*c,S=y.fromCp,b=y.toCp,I=Math.sin(T),x=Math.cos(T);Tn(g,S,b,c);for(var A=0;A<_.length;A+=2){var C=_[A],P=_[A+1],D=m[A],w=m[A+1],R=C*h+D*c,L=P*h+w*c;v[A]=R*x-L*I+g[0],v[A+1]=R*I+L*x+g[1]}var E=v[0],N=v[1];d.moveTo(E,N);for(var A=2;A<_.length;){var D=v[A++],w=v[A++],O=v[A++],k=v[A++],z=v[A++],F=v[A++];E===D&&N===w&&O===z&&k===F?d.lineTo(z,F):d.bezierCurveTo(D,w,O,k,z,F),E=z,N=F}}}})}function Le(r,t,e){if(!r||!t)return t;var a=e.done,n=e.during;xa(r,t),t.__morphT=0;function i(){Dt(t,"buildPath"),Dt(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},H({during:function(o){t.dirtyShape(),n&&n(o)},done:function(){i(),a&&a()}},e)),t}function Lo(r,t,e,a,n,i){var o=16;r=n===e?0:Math.round(32767*(r-e)/(n-e)),t=i===a?0:Math.round(32767*(t-a)/(i-a));for(var s=0,u,l=(1<<o)/2;l>0;l/=2){var f=0,v=0;(r&l)>0&&(f=1),(t&l)>0&&(v=1),s+=l*l*(3*f^v),v===0&&(f===1&&(r=l-1-r,t=l-1-t),u=r,r=t,t=u)}return s}function Ft(r){var t=1/0,e=1/0,a=-1/0,n=-1/0,i=G(r,function(s){var u=s.getBoundingRect(),l=s.getComputedTransform(),f=u.x+u.width/2+(l?l[4]:0),v=u.y+u.height/2+(l?l[5]:0);return t=Math.min(f,t),e=Math.min(v,e),a=Math.max(f,a),n=Math.max(v,n),[f,v]}),o=G(i,function(s,u){return{cp:s,z:Lo(s[0],s[1],t,e,a,n),path:r[u]}});return o.sort(function(s,u){return s.z-u.z}).map(function(s){return s.path})}function Ca(r){return Do(r.path,r.count)}function ye(){return{fromIndividuals:[],toIndividuals:[],count:0}}function ko(r,t,e){var a=[];function n(S){for(var b=0;b<S.length;b++){var I=S[b];zt(I)?n(I.childrenRef()):I instanceof ct&&a.push(I)}}n(r);var i=a.length;if(!i)return ye();var o=e.dividePath||Ca,s=o({path:t,count:i});if(s.length!==i)return ye();a=Ft(a),s=Ft(s);for(var u=e.done,l=e.during,f=e.individualDelay,v=new In,d=0;d<i;d++){var c=a[d],h=s[d];h.parent=t,h.copyTransform(v),f||xa(c,h)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function g(S){for(var b=0;b<s.length;b++)s[b].addSelfToZr(S)}Zt(t,"addSelfToZr",{after:function(S){g(S)}}),Zt(t,"removeSelfFromZr",{after:function(S){for(var b=0;b<s.length;b++)s[b].removeSelfFromZr(S)}});function p(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,Dt(t,"addSelfToZr"),Dt(t,"removeSelfFromZr")}var y=s.length;if(f)for(var _=y,m=function(){_--,_===0&&(p(),u&&u())},d=0;d<y;d++){var T=f?H({delay:(e.delay||0)+f(d,y,a[d],s[d]),done:m},e):e;Le(a[d],s[d],T)}else t.__morphT=0,t.animateTo({__morphT:1},H({during:function(S){for(var b=0;b<y;b++){var I=s[b];I.__morphT=t.__morphT,I.dirtyShape()}l&&l(S)},done:function(){p();for(var S=0;S<r.length;S++)Dt(r[S],"updateTransform");u&&u()}},e));return t.__zr&&g(t.__zr),{fromIndividuals:a,toIndividuals:s,count:y}}function No(r,t,e){var a=t.length,n=[],i=e.dividePath||Ca;function o(c){for(var h=0;h<c.length;h++){var g=c[h];zt(g)?o(g.childrenRef()):g instanceof ct&&n.push(g)}}if(zt(r)){o(r.childrenRef());var s=n.length;if(s<a)for(var u=0,l=s;l<a;l++)n.push(Te(n[u++%s]));n.length=a}else{n=i({path:r,count:a});for(var f=r.getComputedTransform(),l=0;l<n.length;l++)n[l].setLocalTransform(f);if(n.length!==a)return ye()}n=Ft(n),t=Ft(t);for(var v=e.individualDelay,l=0;l<a;l++){var d=v?H({delay:(e.delay||0)+v(l,a,n[l],t[l])},e):e;Le(n[l],t[l],d)}return{fromIndividuals:n,toIndividuals:t,count:t.length}}function kr(r){return nt(r[0])}function Nr(r,t){for(var e=[],a=r.length,n=0;n<a;n++)e.push({one:r[n],many:[]});for(var n=0;n<t.length;n++){var i=t[n].length,o=void 0;for(o=0;o<i;o++)e[o%a].many.push(t[n][o])}for(var s=0,n=a-1;n>=0;n--)if(!e[n].many.length){var u=e[s].many;if(u.length<=1)if(s)s=0;else return e;var i=u.length,l=Math.ceil(i/2);e[n].many=u.slice(l,i),e[s].many=u.slice(0,l),s++}return e}var Go={clone:function(r){for(var t=[],e=1-Math.pow(1-r.path.style.opacity,1/r.count),a=0;a<r.count;a++){var n=Te(r.path);n.setStyle("opacity",e),t.push(n)}return t},split:null};function ee(r,t,e,a,n,i){if(!r.length||!t.length)return;var o=Ie("update",a,n);if(!(o&&o.duration>0))return;var s=a.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o),l,f;kr(r)&&(l=r,f=t),kr(t)&&(l=t,f=r);function v(y,_,m,T,S){var b=y.many,I=y.one;if(b.length===1&&!S){var x=_?b[0]:I,A=_?I:b[0];if(zt(x))v({many:[x],one:A},!0,m,T,!0);else{var C=s?H({delay:s(m,T)},u):u;Le(x,A,C),i(x,A,x,A,C)}}else for(var P=H({dividePath:Go[e],individualDelay:s&&function(N,O,k,z){return s(N+m,T)}},u),D=_?ko(b,I,P):No(I,b,P),w=D.fromIndividuals,R=D.toIndividuals,L=w.length,E=0;E<L;E++){var C=s?H({delay:s(E,L)},u):u;i(w[E],R[E],_?b[E]:y.one,_?y.one:b[E],C)}}for(var d=l?l===r:r.length>t.length,c=l?Nr(f,l):Nr(d?t:r,[d?r:t]),h=0,g=0;g<c.length;g++)h+=c[g].many.length;for(var p=0,g=0;g<c.length;g++)v(c[g],d,p,h),p+=c[g].many.length}function ot(r){if(!r)return[];if(nt(r)){for(var t=[],e=0;e<r.length;e++)t.push(ot(r[e]));return t}var a=[];return r.traverse(function(n){n instanceof ct&&!n.disableMorphing&&!n.invisible&&!n.ignore&&a.push(n)}),a}var Ma=1e4,Vo=0,Gr=1,Vr=2,Bo=Kr();function zo(r,t){for(var e=r.dimensions,a=0;a<e.length;a++){var n=r.getDimensionInfo(e[a]);if(n&&n.otherDims[t]===0)return e[a]}}function Zo(r,t,e){var a=r.getDimensionInfo(e),n=a&&a.ordinalMeta;if(a){var i=r.get(a.name,t);return n&&n.categories[i]||i+""}}function Br(r,t,e,a){var n=a?"itemChildGroupId":"itemGroupId",i=zo(r,n);if(i){var o=Zo(r,t,i);return o}var s=r.getRawDataItem(t),u=a?"childGroupId":"groupId";if(s&&s[u])return s[u]+"";if(!a)return e||r.getId(t)}function zr(r){var t=[];return M(r,function(e){var a=e.data,n=e.dataGroupId;if(!(a.count()>Ma))for(var i=a.getIndices(),o=0;o<i.length;o++)t.push({data:a,groupId:Br(a,o,n,!1),childGroupId:Br(a,o,n,!0),divide:e.divide,dataIndex:o})}),t}function re(r,t,e){r.traverse(function(a){a instanceof ct&&$r(a,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function ae(r){if(r.parent){var t=r.getComputedTransform();r.setLocalTransform(t),r.parent.remove(r)}}function gt(r){r.stopAnimation(),r.isGroup&&r.traverse(function(t){t.stopAnimation()})}function Fo(r,t,e){var a=Ie("update",e,t);a&&r.traverse(function(n){if(n instanceof An){var i=xn(n);i&&n.animateFrom({style:i},a)}})}function Wo(r,t){var e=r.length;if(e!==t.length)return!1;for(var a=0;a<e;a++){var n=r[a],i=t[a];if(n.data.getId(n.dataIndex)!==i.data.getId(i.dataIndex))return!1}return!0}function Da(r,t,e){var a=zr(r),n=zr(t);function i(m,T,S,b,I){(S||m)&&T.animateFrom({style:S&&S!==m?ie(ie({},S.style),m.style):m.style},I)}var o=!1,s=Vo,u=X(),l=X();a.forEach(function(m){m.groupId&&u.set(m.groupId,!0),m.childGroupId&&l.set(m.childGroupId,!0)});for(var f=0;f<n.length;f++){var v=n[f].groupId;if(l.get(v)){s=Gr;break}var d=n[f].childGroupId;if(d&&u.get(d)){s=Vr;break}}function c(m,T){return function(S){var b=S.data,I=S.dataIndex;return T?b.getId(I):m?s===Gr?S.childGroupId:S.groupId:s===Vr?S.childGroupId:S.groupId}}var h=Wo(a,n),g={};if(!h)for(var f=0;f<n.length;f++){var p=n[f],y=p.data.getItemGraphicEl(p.dataIndex);y&&(g[y.id]=!0)}function _(m,T){var S=a[T],b=n[m],I=b.data.hostModel,x=S.data.getItemGraphicEl(S.dataIndex),A=b.data.getItemGraphicEl(b.dataIndex);if(x===A){A&&Fo(A,b.dataIndex,I);return}x&&g[x.id]||A&&(gt(A),x?(gt(x),ae(x),o=!0,ee(ot(x),ot(A),b.divide,I,m,i)):re(A,I,m))}new Lt(a,n,c(!0,h),c(!1,h),null,"multiple").update(_).updateManyToOne(function(m,T){var S=n[m],b=S.data,I=b.hostModel,x=b.getItemGraphicEl(S.dataIndex),A=oe(G(T,function(C){return a[C].data.getItemGraphicEl(a[C].dataIndex)}),function(C){return C&&C!==x&&!g[C.id]});x&&(gt(x),A.length?(M(A,function(C){gt(C),ae(C)}),o=!0,ee(ot(A),ot(x),S.divide,I,m,i)):re(x,I,S.dataIndex))}).updateOneToMany(function(m,T){var S=a[T],b=S.data.getItemGraphicEl(S.dataIndex);if(!(b&&g[b.id])){var I=oe(G(m,function(A){return n[A].data.getItemGraphicEl(n[A].dataIndex)}),function(A){return A&&A!==b}),x=n[m[0]].data.hostModel;I.length&&(M(I,function(A){return gt(A)}),b?(gt(b),ae(b),o=!0,ee(ot(b),ot(I),S.divide,x,m[0],i)):M(I,function(A){return re(A,x,m[0])}))}}).updateManyToMany(function(m,T){new Lt(T,m,function(S){return a[S].data.getId(a[S].dataIndex)},function(S){return n[S].data.getId(n[S].dataIndex)}).update(function(S,b){_(m[S],T[b])}).execute()}).execute(),o&&M(t,function(m){var T=m.data,S=T.hostModel,b=S&&e.getViewOfSeriesModel(S),I=Ie("update",S,0);b&&S.isAnimationEnabled()&&I&&I.duration>0&&b.group.traverse(function(x){x instanceof ct&&!x.animators.length&&x.animateFrom({style:{opacity:0}},I)})})}function Zr(r){var t=r.getModel("universalTransition").get("seriesKey");return t||r.id}function Fr(r){return nt(r)?r.sort().join(","):r}function rt(r){if(r.hostModel)return r.hostModel.getModel("universalTransition").get("divideShape")}function Uo(r,t){var e=X(),a=X(),n=X();return M(r.oldSeries,function(i,o){var s=r.oldDataGroupIds[o],u=r.oldData[o],l=Zr(i),f=Fr(l);a.set(f,{dataGroupId:s,data:u}),nt(l)&&M(l,function(v){n.set(v,{key:f,dataGroupId:s,data:u})})}),M(t.updatedSeries,function(i){if(i.isUniversalTransitionEnabled()&&i.isAnimationEnabled()){var o=i.get("dataGroupId"),s=i.getData(),u=Zr(i),l=Fr(u),f=a.get(l);if(f)e.set(l,{oldSeries:[{dataGroupId:f.dataGroupId,divide:rt(f.data),data:f.data}],newSeries:[{dataGroupId:o,divide:rt(s),data:s}]});else if(nt(u)){var v=[];M(u,function(h){var g=a.get(h);g.data&&v.push({dataGroupId:g.dataGroupId,divide:rt(g.data),data:g.data})}),v.length&&e.set(l,{oldSeries:v,newSeries:[{dataGroupId:o,data:s,divide:rt(s)}]})}else{var d=n.get(u);if(d){var c=e.get(d.key);c||(c={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:rt(d.data)}],newSeries:[]},e.set(d.key,c)),c.newSeries.push({dataGroupId:o,data:s,divide:rt(s)})}}}}),e}function Wr(r,t){for(var e=0;e<r.length;e++){var a=t.seriesIndex!=null&&t.seriesIndex===r[e].seriesIndex||t.seriesId!=null&&t.seriesId===r[e].id;if(a)return e}}function Ho(r,t,e,a){var n=[],i=[];M(bt(r.from),function(o){var s=Wr(t.oldSeries,o);s>=0&&n.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:rt(t.oldData[s]),groupIdDim:o.dimension})}),M(bt(r.to),function(o){var s=Wr(e.updatedSeries,o);if(s>=0){var u=e.updatedSeries[s].getData();i.push({dataGroupId:t.oldDataGroupIds[s],data:u,divide:rt(u),groupIdDim:o.dimension})}}),n.length>0&&i.length>0&&Da(n,i,a)}function jo(r){r.registerUpdateLifecycle("series:beforeupdate",function(t,e,a){M(bt(a.seriesTransition),function(n){M(bt(n.to),function(i){for(var o=a.updatedSeries,s=0;s<o.length;s++)(i.seriesIndex!=null&&i.seriesIndex===o[s].seriesIndex||i.seriesId!=null&&i.seriesId===o[s].id)&&(o[s][Jt]=!0)})})}),r.registerUpdateLifecycle("series:transition",function(t,e,a){var n=Bo(e);if(n.oldSeries&&a.updatedSeries&&a.optionChanged){var i=a.seriesTransition;if(i)M(bt(i),function(c){Ho(c,n,a,e)});else{var o=Uo(n,a);M(o.keys(),function(c){var h=o.get(c);Da(h.oldSeries,h.newSeries,e)})}M(a.updatedSeries,function(c){c[Jt]&&(c[Jt]=!1)})}for(var s=t.getSeries(),u=n.oldSeries=[],l=n.oldDataGroupIds=[],f=n.oldData=[],v=0;v<s.length;v++){var d=s[v].getData();d.count()<Ma&&(u.push(s[v]),l.push(s[v].get("dataGroupId")),f.push(d))}})}export{Ko as a,Qo as b,Xo as c,Jo as d,jo as e,Yo as i};
